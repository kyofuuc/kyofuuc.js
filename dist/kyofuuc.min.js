!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ffs=t():e.ffs=t()}(this,(()=>{return e={10:(e,t,n)=>{e.exports=n(161)},947:(e,t,n)=>{"use strict";const o=n(988);function r(e,t){e?e.removeItem(t):document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function s(e){this.interceptorIds=[],this.interceptor=void 0,o.isObject(e)&&e.encryptor?(this.encryptor=e.encryptor,this.decryptor=e.decryptor,this.cookiesImpl=e.bucket,this.expiryInMilliSeconds=e.expiryInMilliSeconds||864e5):(this.cookiesImpl=e,this.expiryInMilliSeconds=864e5)}s.prototype.registerInterceptors=function(e){if(!e)return;const t=this;this.interceptor=e,this.cookiesImpl,this.expiryInMilliSeconds;const n=e.registerPreRequest((function(e,n){if(!n.cache)return;const o=e.get.call(t,n);return void 0!==o?n.refreshCache?void r(t.cookiesImpl,n.key):{FROM_FFS_CACHE_MANAGER_INTERCEPTOR:!0,key:n.key,value:o}:void 0}),{decryptor:this.decryptor,get:this.get});this.interceptorIds.push(n);const o=e.registerPostResponse((function(e,n,o){n.cache&&o&&e.set.call(t,n,o)}),{encryptor:this.encryptor,set:this.set});this.interceptorIds.push(o)},s.prototype.unRegisterInterceptors=function(e){for(let t of this.interceptorIds)e.unRegister(t)},s.prototype.get=function(e){e.key=o.buildCacheKey(e);let t=function(e,t){let n=t+"=";if(e)return e.getItem(t);let o=document.cookie.split(";");for(let e=0;e<o.length;e++){let t=o[e];for(;" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(n))return t.substring(n.length,t.length)}return null}(this.cookiesImpl,e.key);return null==t?t:(t="function"==typeof this.encryptor?this.decryptor(t,e):t,void 0!==t?JSON.parse(t).value:void 0)},s.prototype.set=function(e,t){e.key=o.buildCacheKey(e),t=JSON.safeStringify({value:t});let n="function"==typeof this.encryptor?this.encryptor(t,e):t,r=e.cacheOptions||{};void 0===r.Secure&&(r.Secure=!0),function(e,t,n,o,r){let s="";if(o){let e=new Date;e.setTime(e.getTime()+o),s="; expires="+e.toUTCString()}if(e)e.setItem(t,n);else{let e="";if(r)for(let t in r)e+=`; ${t}`,!0!==r[t]&&(e+=`=${r[t]}`);document.cookie=t+"="+(n||"")+s+"; path=/"+e}}(this.cookiesImpl,e.key,n,this.expiryInMilliSeconds,r)},s.prototype.remove=function(e){e.key=o.buildCacheKey(e),r(this.cookiesImpl,e.key)},e.exports=s},769:e=>{"use strict";e.exports=function(e){}},167:(e,t,n)=>{"use strict";const o=n(988);function r(e){this.interceptorIds=[],this.interceptor=void 0,o.isObject(e)&&e.encryptor?(this.encryptor=e.encryptor,this.decryptor=e.decryptor,this.localStorageImpl=e.bucket):this.localStorageImpl=e,this.localStorageImpl=this.localStorageImpl||localStorage}r.prototype.registerInterceptors=function(e){if(!e)return;const t=this;this.interceptor=e;const n=this.localStorageImpl,o=e.registerPreRequest((function(e,o){if(!o.cache)return;const r=e.get.call(t,o);return void 0!==r?o.refreshCache?void n.removeItem(o.key):{FROM_FFS_CACHE_MANAGER_INTERCEPTOR:!0,key:o.key,value:r}:void 0}),{decryptor:this.decryptor,get:this.get});this.interceptorIds.push(o);const r=e.registerPostResponse((function(e,n,o){n.cache&&o&&e.set.call(t,n,o)}),{encryptor:this.encryptor,set:this.set});this.interceptorIds.push(r)},r.prototype.unRegisterInterceptors=function(e){for(let t of this.interceptorIds)e.unRegister(t)},r.prototype.get=function(e){e.key=o.buildCacheKey(e);let t=this.localStorageImpl.getItem(e.key);return null==t?t:(t="function"==typeof this.encryptor?this.decryptor(t,e):t,void 0!==t?JSON.parse(t).value:void 0)},r.prototype.set=function(e,t){e.key=o.buildCacheKey(e),t=JSON.safeStringify({value:t});let n="function"==typeof this.encryptor?this.encryptor(t,e):t;this.localStorageImpl.setItem(e.key,n)},r.prototype.remove=function(e){e.key=o.buildCacheKey(e),this.localStorageImpl.removeItem(e.key)},e.exports=r},667:(e,t,n)=>{"use strict";const o=n(988);function r(e){this.interceptor=void 0,this.interceptorIds=[],o.isObject(e)&&e.bucket?this.bucket=e.bucket:this.bucket=e||{}}r.prototype.registerInterceptors=function(e){if(!e)return;const t=this;this.interceptor=e;const n=e.registerPreRequest((function(e,n){if(!n.cache)return;const o=e.get.call(t,n);return void 0!==o?n.refreshCache?void delete e.bucket[n.key]:{FROM_FFS_CACHE_MANAGER_INTERCEPTOR:!0,key:n.key,value:o}:void 0}),{bucket:this.bucket,get:this.get});this.interceptorIds.push(n);const o=e.registerPostResponse((function(e,n,o){n.cache&&o&&e.set.call(t,n,o)}),{bucket:this.bucket,set:this.set});this.interceptorIds.push(o)},r.prototype.unRegisterInterceptors=function(e){for(let t of this.interceptorIds)e.unRegister(t)},r.prototype.get=function(e){e.key=o.buildCacheKey(e);const t=this.bucket[e.key];if(void 0!==t)return JSON.parse(t).value},r.prototype.set=function(e,t){e.key=o.buildCacheKey(e),this.bucket[e.key]=JSON.safeStringify({value:t})},r.prototype.remove=function(e){e.key=o.buildCacheKey(e),delete this.bucket[e.key]},e.exports=r},940:(e,t,n)=>{"use strict";const o=n(988),r=n(167);e.exports=function(e){let t={};return o.isObject(e)&&t.encryptor?(t.encryptor=e.encryptor,t.decryptor=e.decryptor,t.bucket=e.bucket):t.bucket=e,t.bucket=t.bucket||sessionStorage,new r(e)}},180:(e,t,n)=>{e.exports={MapFFSCacheManager:n(667),CookieFFSCacheManager:n(947),KeyvRedisFFSCacheManager:n(769),LocalStorageFFSCacheManager:n(167),SessionStorageFFSCacheManager:n(940)}},170:(e,t,n)=>{"use strict";const o=n(988),r=n(635).XMLHttpRequest;e.exports=function(e,t){return new Promise((function(n,s){let i=e.data||null,c=e.headers||{},a=Object.keys(c).reduce(((e,t)=>(e[t.toLowerCase()]=t,e)),{}),u=e.responseType;t=t||(e.cache&&e.cache.interceptor?e.cache.interceptor:t),o.isFormData(i)&&a["content-type"]?delete c["content-type"]:(o.isPlainObject(i)||o.isObject(i)||o.isArray(i))&&!a["content-type"]&&(c["Content-Type"]="application/json");const p=o.invokeForEachInterceptorType(t,"HTTP_PRE_REQUEST",e).filter((e=>!0===e.FROM_FFS_CACHE_MANAGER_INTERCEPTOR));if(p.length>0&&!e.refreshCache)return p[0].value.isFromCache=!0,void n(p[0].value);let l=new r;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";c.Authorization="Basic "+o.toBase64(t+":"+n)}let f=o.buildFullURLPath(e.baseURL,e.url);function h(){if(!l)return;let r="getAllResponseHeaders"in l?o.parseHeaders(l.getAllResponseHeaders()):null,i=u&&"text"!==u&&"json"!==u?l.response:l.responseText,c={status:l.status,statusText:l.statusText,headers:r,config:e,request:l,isFromCache:!1};if(o.invokeForEachInterceptorType(t,"HTTP_PRE_RESPONSE",e,c),c.body=i,204!=l.status&&e.responseType&&-1!=e.responseType.toLowerCase().indexOf("json"))try{c.data=JSON.parse(c.body)}catch(t){c.data=c.body,s(o.kyofuucError("error trying to parse response body to data JSON",e,o.ERROR_CODES.ERR_PROCESSING_BODY_AS_JSON_DATA,c.request,c))}else c.data=c.body;o.invokeForEachInterceptorType(t,"HTTP_POST_RESPONSE",e,c),o.resolveResponse(c,n,s),l=null}if(l.open((e.method||"get").toUpperCase(),o.buildURL(f,e.params,e.paramsSerializer),!0),"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(h)},l.onerror=function(){if(e.retry){e.putInRetryQueue(e);let t={status:109,statusText:"Awaiting Retry",headers:[],config:e,request:l,isFromCache:!1};o.resolveResponse(t,n,s)}else s(o.kyofuucError("Network error",e,o.ERROR_CODES.NETWORK_ERROR,l)),l=null},l.onabort=function(){l&&(s(o.kyofuucError("error request aborted",e,o.ERROR_CODES.REQUEST_ABORTED,l)),l=null)},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(o.kyofuucError(t,e,o.ERROR_CODES.TIMEOUT_ERROR,l)),l=null},"setRequestHeader"in l&&o.forEach(c,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete c[t]:l.setRequestHeader(t,e)})),o.envIsStandardBrowser()){let t=(e.withCredentials||o.isURLSameOrigin(f))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;t&&(c[e.xsrfHeaderName]=t)}o.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),u&&-1==u.toLowerCase().indexOf("json")&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),l.send(JSON.stringify(i)),o.invokeForEachInterceptorType(t,"HTTP_POST_REQUEST",e)}))}},809:(e,t,n)=>{const o=n(43),r=n(170),s=n(170);e.exports={wsConnector:o,xhrConnector:r,httpConnector:s}},43:(e,t,n)=>{"use strict";const o=n(988),r=n(635).WebSocket;e.exports=function(e,t){const n=o.buildFullURLPath(e.baseURL,e.url),s=o.buildURL(n,e.params,e.paramsSerializer),i=new r(s,e.protocol);return i.addEventListener("close",(n=>o.invokeForEachInterceptorType(t,"WS_CLOSE",e,n))),i.addEventListener("error",(n=>o.invokeForEachInterceptorType(t,"WS_ERROR",e,n))),i.addEventListener("message",(n=>o.invokeForEachInterceptorType(t,"WS_MESSAGE",e,n))),i.addEventListener("open",(n=>o.invokeForEachInterceptorType(t,"WS_OPEN",e,n))),i.implname="wsConnector",i}},341:(e,t,n)=>{"use strict";const o=n(988);function r(){this.handlers=[]}r.prototype.register=function(e,t,n){return this.handlers.push({type:e,cb:t,options:n}),this.handlers.length-1},r.prototype.unRegister=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.filter=function(e,t){return this.handlers.filter(e,t)},r.prototype.forEach=function(e,t){o.forEach(this.handlers,(function(n){null===n||t&&n.type!==t||e(n)}))},o.forEach(["PreRequest","PostRequest","PreResponse","PostResponse"],(function(e){r.prototype[`register${e}`]=function(t,n){let o=e.split("Re");return o=`HTTP_${o[0]}_RE${o[1]}`.toUpperCase(),this.register(o,t,n)}})),o.forEach(["Close","Error","Message","Open","StateChange"],(function(e){r.prototype[`registerOnWS${e}`]=function(t,n){return this.register(`WS_${e.toUpperCase()}`,t,n)}})),e.exports=r},264:(e,t,n)=>{"use strict";const o=n(988),r=n(341),s=(n(513),o.presentElseImport(typeof localStorage,(()=>new(n(167))(null,null)),(()=>new(n(667)))));function i(e){this._cache=e||s,this._interceptor=this._cache.interceptor||new r,this._entriesCount=this._cache.get({key:"FUQUEUEMANAGER_ENTRIES_COUNT"})||0}function c(e,t){return""===e._cacheName||(e.cache=t.rebuildRetryObjectCache?t.rebuildRetryObjectCache(e):null,e.cache||"MapFFSCacheManager"!==e._cacheName)||(e.cache=new t.cachemanagers.MapFFSCacheManager),e}i.prototype.push=function(e,t){void 0!==e&&(t&&o.isObject(e)&&(e.type=t),this._cache.set({key:"FUQUEUEMANAGER_ENTRY_"+ ++this._entriesCount},e),this._cache.set({key:"FUQUEUEMANAGER_ENTRIES_COUNT"},this._entriesCount),o.forEach(o.getGlobalEvent(o.GLOBAL_EVENT_NAMES.EVENT_QUEUED),(t=>t(e.type,e))))},i.prototype.pop=function(){if(0===this._entriesCount&&(this._entriesCount=this._cache.get({key:"FUQUEUEMANAGER_ENTRIES_COUNT"})||0),!this._entriesCount)return;const e=`FUQUEUEMANAGER_ENTRY_${this._entriesCount}`,t=this._cache.get({key:e});return this._cache.remove({key:e}),this._entriesCount--,this._entriesCount?this._cache.set({key:"FUQUEUEMANAGER_ENTRIES_COUNT"},this._entriesCount):this._cache.remove({key:"FUQUEUEMANAGER_ENTRIES_COUNT"}),t},i.prototype.retry=function(e,t){let n;for(;n=this.pop();)n.type===e&&e===i.TYPE.HTTP_REQUEST&&(new t.KyofuucHttp).request(c(n.config,t)).then((t=>{109!=t.status&&o.forEach(o.getGlobalEvent(o.GLOBAL_EVENT_NAMES.RETRY_SUCCESS),(n=>n(e,t)))})).catch((t=>{o.forEach(o.getGlobalEvent(o.GLOBAL_EVENT_NAMES.RETRY_FAILED),(t=>t(e,response)))}))},i.TYPE={HTTP_REQUEST:"KYOFUUC_HTTP_REQUEST"},e.exports=i},513:(e,t,n)=>{"use strict";const o=n(988),r=n(986),s=n(341),i=n(264);function c(e){this.httpBaseConfig=e||{},this.httpInterceptor=this.httpBaseConfig.interceptor||new s,this.httpBaseConfig.cache&&"function"==typeof this.httpBaseConfig.cache.registerInterceptors&&this.httpBaseConfig.cache.registerInterceptors(this.httpInterceptor)}function a(e){const t=e.fuQueueManager||new i;e._retryCount=o.isNumber(e._retryCount)?++e._retryCount:1,o.isNumber(e.maxRetry)||(e.maxRetry=r.maxReconnectOrRetry),e._retryCount>e.maxRetry?o.forEach(o.getGlobalEvent(o.GLOBAL_EVENT_NAMES.RETRY_MAXED_OUT),(t=>t(e))):(e._cacheName=e.cache?e.cache.constructor.name:"",t.push({type:"KYOFUUC_HTTP_REQUEST",config:e}))}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};let n,s=t.cache;return t=o.mergeObject(t,this.httpBaseConfig),s&&0===s.interceptorIds.length&&s.registerInterceptors(this.httpInterceptor),t.retry&&(t.putInRetryQueue=a),n=(t.connector||r.getDefaultHttpConnector())(t,this.httpInterceptor),s&&s.interceptorIds.length>0&&s.unRegisterInterceptors(this.httpInterceptor),n},c.prototype.getUrl=function(e){if(!e.url)throw new Error("Invalid config url provider");return e=o.mergeObject(e,this.httpBaseConfig),o.buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(o.mergeObject(n,{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return r||(r={}),r.headers||(r.headers={}),r.headers.accept||r.headers.Accept||r.headers.ACCEPT||(r.headers.Accept="application/json, text/plain, */*"),this.request(o.mergeObject(r,{method:e,url:t,data:n}))}})),e.exports=c},911:(e,t,n)=>{"use strict";const o=n(988),r=n(986),s=n(341);function i(e){this.state=0,this.protocol="",this._reconnectionCount=0,this._nextReconnectionDelay=0,this.lastReconnectionCount=0,this.wsConfig=e||{},this.interceptor=this.wsConfig.interceptor||new s,this.eventHooks={onOpen:[],onClose:[],onError:[],onMessage:[],onStateChange:[]}}i.prototype.reconnect=function(e){2!=this.state&&3!=this.state&&this.close(),e||(e=this.wsConfig.connector||r.getDefaultWSConnector()),this.state=4,o.forEach(this.eventHooks.onStateChange,(e=>e(this,this.state))),this.connection=e(this.wsConfig,this.interceptor)},i.prototype.ws=function(e,t){const n=o.mergeClasses(new i,this);"string"==typeof e?(t=t||{}).url=e:t=e||{},n.wsConfig=o.mergeObject(t,n.wsConfig);const s=(t=n.wsConfig).connector||r.getDefaultWSConnector();return n.interceptor.registerOnWSError(((e,t,r)=>{o.forEach(n.eventHooks.onError,(e=>e(n,r)))}),{instance:n}),n.interceptor.registerOnWSClose(((e,t,r)=>{if(2!==n.state&&!0===n.wsConfig.reconnect&&n.lastReconnectionCount<n.wsConfig.maxReconnect)return n._reconnectionCount++,n.lastReconnectionCount++,n._nextReconnectionDelay=n.wsConfig.reconnectIntervalByPower?Math.pow(n.wsConfig.reconnectInterval,n._reconnectionCount):n.wsConfig.reconnectInterval,void setTimeout(n.reconnect.bind(n,s),1e3*n._nextReconnectionDelay);n.state=r.target.readyState,o.forEach(n.eventHooks.onStateChange,(e=>e(n,n.state))),o.forEach(n.eventHooks.onClose,(e=>e(n,r)))}),{instance:n}),n.interceptor.registerOnWSOpen(((e,t,r)=>{n._reconnectionCount=0,n._nextReconnectionDelay=0,n.connection&&"wsConnector"===n.connection.implname&&(n.state=r.target.readyState,o.forEach(n.eventHooks.onStateChange,(e=>e(n,n.state))),n.protocol=n.connection.protocol,n.extensions=n.connection.extensions),o.forEach(n.eventHooks.onOpen,(e=>e(n,r)))}),{instance:n}),n.interceptor.registerOnWSMessage(((e,t,r)=>{n.state;let s,i,c=n.connectionImplName;n.state=6,o.forEach(n.eventHooks.onStateChange,(e=>e(n,n.state))),"wsConnector"===c&&(s=r.data),i="json"===n.protocol.toLowerCase()?JSON.parse(s):s,n.state=1,o.forEach(n.eventHooks.onMessage,(e=>e(n,r,i)))}),{instance:n}),n.connection=s(t,n.interceptor),n.connectionImplName=n.connection.implname,n},i.prototype.connection=function(){return this.connection},i.prototype.close=function(){this.state=2,this.connection&&this.connection.close()},i.prototype.sendMessage=function(e){this.connection&&(this.state=5,o.isObject(e)&&"json"===this.protocol.toLowerCase()&&(e=JSON.safeStringify(e)),this.connection.send(e),this.state=1)},i.prototype.getBufferedAmount=function(){if(this.connection)return"wsConnector"===this.connectionImplName?this.connection.bufferedAmount:void 0},i.prototype.getUrl=function(e){if(!(e=e||this.wsConfig).url)throw new Error("Invalid config url provider");return e=o.mergeObject(e,this.httpBaseConfig),o.buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.prototype.getBinaryType=function(){if(this.connection)return"wsConnector"===this.connectionImplName?this.connection.binaryType:void 0},i.prototype.setBinaryType=function(e){this.connection&&"wsConnector"===this.connectionImplName&&(this.connection.binaryType=e)},o.forEach(["onOpen","onMessage","onClose","onError","onStateChange"],(function(e){i.prototype[e]=function(t){this.eventHooks[e].push(t)}})),i.STATE={CONNECTING:0,CONNECTED:1,READY:1,DISCONNECTING:2,DISCONNECTED:3,RECONNECTING:4,PROCESSIMG_OUTGOING_MESSAGE:5,PROCESSIMG_INCOMMING_MESSAGE:6},e.exports=i},635:e=>{e.exports={WebSocket,http:null,https:null,XMLHttpRequest}},986:(e,t,n)=>{"use strict";const o=n(988),r=n(635),s=99999;function i(){let e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(170)),e}function c(){return n(43)}function a(){return o.envIsNodeJs()&&r.http?{httpAgent:new r.http.Agent({keepAlive:!0}),httpsAgent:new r.https.Agent({keepAlive:!0})}:{}}const u={connector:i(),timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,maxRedirects:5,timeout:5e3,responseType:"json",validateStatus:function(e){return e>=200&&e<300},headers:{Accept:"application/json, text/plain, */*"},retry:!1,maxRetry:s,onRetryCompleted:null,...a()},p={connector:c(),protocol:[],reconnect:!1,maxReconnect:s,reconnectInterval:-1,reconnectIntervalByPower:!1};e.exports={wsConfig:p,httpConfig:u,getHttpAgent:a,maxReconnectOrRetry:s,getDefaultWSConnector:c,getDefaultHttpConnector:i}},161:(e,t,n)=>{const o=n(513),r=n(911),s=n(341),i=n(264),c=n(809),a=n(180),u=n(986),p=n(988);function l(e){const t=(e||{}).fuQueueManager||new i;e&&e.httpConfig&&!e.httpConfig.fuQueueManager&&(e.httpConfig.fuQueueManager=t);const n=e.httpConfig||e||u.httpConfig,s=e.wsConfig||e||u.wsConfig;n.responseType||(n.responseType=u.httpConfig.responseType),n.validateStatus||(n.validateStatus=u.httpConfig.validateStatus);const c=new o(n),a=new r(s);return c.kfWS=a,c.queueManager=t,c.ws=(e,t)=>c.kfWS.ws(e,t),c}function f(e,t){e&&e.retry("KYOFUUC_HTTP_REQUEST",t)}const h=l(u.httpConfig);h.KyofuucWS=r,h.KyofuucHttp=o,h.FuInterceptor=s,h.defaults=u,h.utils=p,h.init=l,h.retryHttpRequests=f,h.retryRequests=()=>{f(h.queueManager,h)},h.cachemanagers=a,h.connectors=c,e.exports=h,e.exports.default=h},988:e=>{"use strict";const t={UNKNOWN_ERROR:"UNKNOWN_ERROR",REQUEST_FAILED:"ERR_REQUEST_FAILED",MAXCONTENTLENGTH_EXCEEDED:"ERR_MAXCONTENTLENGTH_EXCEEDED",REQUEST_ABORTED:"ERR_REQUEST_ABORTED",STREAM_ERROR:"ERR_STREAM_ERROR",ERR_PROCESSING_DATA:"ERR_PROCESSING_DATA",ERR_PROCESSING_BODY_AS_JSON_DATA:"ERR_PROCESSING_BODY_AS_JSON_DATA",MAX_REDIRECT_ERROR:"MAX_REDIRECT_ERROR",CONNECTION_ABORTED:"ECONNABORTED",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR"},n={RETRY_MAXED_OUT:"FQM_RETRY_MAXED_OUT",RETRY_SUCCESS:"FQM_RETRY_SUCCESS",RETRY_FAILED:"FQM_RETRY_FAILED",EVENT_QUEUED:"FQM_EVENT_QUEUED"},o={};function r(e){return"string"==typeof e}function s(e){return Array.isArray(e)}function i(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===toString.call(e)}function a(e){return"[object Date]"===toString.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function p(e,t){if(t=t||{},null==(e=e||{})&&null==t)return{};let n={};if("object"!=typeof e&&"object"==typeof t)return n=t,n;if("object"!=typeof t)return n=e,n;for(var o in e)n[o]=e[o];for(var o in t)void 0!==n[o]&&null!==n[o]||(n[o]=t[o]);return n}function l(e){return"[object URLSearchParams]"===toString.call(e)}function f(e){return encodeURIComponent(e).replace(/%5B/gi,"[").replace(/%5D/gi,"]").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%20/g,"+").replace(/%2C/gi,",")}function h(){return!("undefined"==typeof window)}function E(e,t,n,o,s){let i=r(e)?new Error(e):e;return i.config=t,n&&(i.code=n),i.request=o,i.response=s,i.isKyofuucError=!0,i.toJSON=function(){return{name:this.name,message:this.message,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null,responseBody:this.response&&this.response.body?this.response.body:null}},i}function y(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function d(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function R(e,t){u(t.constructor.prototype||[],(function(t,n){n in e.constructor.prototype||(e.constructor.prototype[n]=t)}))}function g(e,t){u(t||{},(function(t,n){let o=e[n];o?i(o)?e[n]=p(o,t):s(o):e[n]=t}))}JSON.safeStringify=(e,t=2)=>{let n=[];const o=JSON.stringify(e,((e,t)=>"object"==typeof t&&null!==t?n.includes(t)?"[Circular]":n.push(t)&&t:t),t);return n=null,o};let C=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _(e,t){return o[e]||(o[e]=[]),o[e].push(t),o.length-1}e.exports={trim:S,isDate:a,VERSION:"0.0.1",forEach:u,isArray:s,toBase64:function(e){return h()?btoa(e):Buffer.from(e).toString("base64")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},buildURL:function(e,t,n){if(!t)return e;let o;if(l(t))o=t.toString();else if(n)o=n(t);else{let e=[];u(t,(function(t,n){null!=t&&(s(t)?n+="[]":t=[t],u(t,(function(t){a(t)?t=t.toISOString():i(t)&&(t=JSON.stringify(t)),e.push(`${f(n)}=${f(t)}`)})),o=e.join("&"))}))}if(o){var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e},isNumber:function(e){return"number"==typeof e},isStream:function(e){return i(e)&&c(e.pipe)},isString:r,isObject:i,fromBase64:function(e){return h()?atob(e):Buffer.from(e,"base64").toString()},isFormData:function(e){return"[object FormData]"===toString.call(e)},isFunction:c,envIsNodeJs:function(){return"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)},mergeObject:p,combineURLs:d,ERROR_CODES:t,isUndefined:function(e){return void 0===e},mergeClasses:function(...e){const t=e[0];return u(e,(function(e,n){0!=n&&(g(t,e),R(t,e))})),t},envIsBrowser:h,parseHeaders:function(e){var t,n,o,r={};return e?(u(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=S(e.substr(0,o)).toLowerCase(),n=S(e.substr(o+1)),t){if(r[t]&&C.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}})),r):r},kyofuucError:E,isPlainObject:function(e){if("[object Object]"!==toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},isAbsoluteURL:y,isRelativeURL:function(e){return!y(e)},isArrayBuffer:function(e){return"[object ArrayBuffer]"===toString.call(e)},buildCacheKey:function(e){return e.key||e.url+(e.isResource?`_${(e.method||"GET").toUpperCase()}_RESOURCE`:`_${(e.method||"GET").toUpperCase()}_SINGLE`)},cloneInstance:function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)},encodeParamURI:f,getGlobalEvent:function(e){return o[e]||[]},isURLSameOrigin:function(e){return!1},resolveResponse:function(e,n,o){let r=e.config.validateStatus;e.status&&r&&!r(e.status)?o(E("Request failed with status code "+e.status,e.config,t.REQUEST_FAILED,e.request,e)):n(e)},buildFullURLPath:function(e,t){return e&&!y(t)?d(e,t):t},isURLSearchParams:l,presentElseImport:function(e,t,n){return"undefined"!==e?t.call():n.call()},GLOBAL_EVENT_NAMES:n,registerQueuedEvent:e=>_(n.EVENT_QUEUED,e),registerGlobalEvent:_,mergeClassAttribute:g,mergeClassPrototypes:R,envIsStandardBrowser:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},unRegisterGlobalEvent:function(e,t){o[e]&&o[e].length&&o[e].splice(t,1)},registerRetrySuccessEvent:e=>_(n.RETRY_SUCCESS,e),registerRetryFailureEvent:e=>_(n.RETRY_FAILED,e),registerRetryMaxedOutEvent:e=>_(n.RETRY_MAXED_OUT,e),invokeForEachInterceptorType:function(e,t,n,o){const r=[];return e?(u(e.filter((e=>e&&e.type===t)),(function(e){if(!e||!e.cb)return;if("function"==typeof e.when&&!1===e.when(n))return;const t=e.cb(e.options,n,o);void 0!==t&&r.push(t)})),r):r}}}},t={},function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(10);var e,t}));
//# sourceMappingURL=kyofuuc.min.map