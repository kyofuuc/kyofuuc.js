{"version":3,"file":"kyofuuc.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAa,IAAID,IAEjBD,EAAU,IAAIC,IARhB,CASGK,MAAM,KACT,O,gBCTAH,EAAOD,QAAU,EAAjB,M,2BCEA,MAAMK,EAAQ,EAAQ,KA4CtB,SAASC,EAAqBC,EAAaC,GACnCD,EACAA,EAAYE,WAAWD,GAG3BE,SAASC,OAASH,EAAM,oDAK5B,SAASI,EAAsBC,GAC3BT,KAAKU,eAAiB,GACzBV,KAAKW,iBAAcC,EACZX,EAAMY,SAASJ,IAAYA,EAAQK,WACzCd,KAAKc,UAAYL,EAAQK,UACzBd,KAAKe,UAAYN,EAAQM,UACzBf,KAAKG,YAAcM,EAAQO,OACrBhB,KAAKiB,qBAAuBR,EAAQQ,sBAAwB,QAElEjB,KAAKG,YAAcM,EACbT,KAAKiB,qBAAuB,OAIpCT,EAAsBU,UAAUC,qBAAuB,SAA8BR,GACjF,IAAKA,EAAa,OACrB,MAAMS,EAAWpB,KACjBA,KAAKW,YAAcA,EACEX,KAAKG,YACIH,KAAKiB,qBAChC,MAAMI,EAAmBV,EAAYW,oBAAmB,SAAoCb,EAASc,GACjG,IAAKA,EAAOC,MAAO,OACnB,MAAMC,EAAchB,EAAQiB,IAAIC,KAAKP,EAAUG,GACrD,YAAoBX,IAAhBa,EACCF,EAAOK,kBACV1B,EAAqBkB,EAASjB,YAAaoB,EAAOM,KAG5C,CACNC,oCAAoC,EACpCD,IAAKN,EAAOM,IACZE,MAAON,QART,IAWK,CACCV,UAAWf,KAAKe,UACtBW,IAAK1B,KAAK0B,MAER1B,KAAKU,eAAesB,KAAKX,GAEzB,MAAMY,EAAoBtB,EAAYuB,sBAAqB,SAAoCzB,EAASc,EAAQY,GACvGZ,EAAOC,OACRW,GACA1B,EAAQ2B,IAAIT,KAAKP,EAAUG,EAAQY,KAExC,CACCrB,UAAWd,KAAKc,UACtBsB,IAAKpC,KAAKoC,MAERpC,KAAKU,eAAesB,KAAKC,IAG7BzB,EAAsBU,UAAUmB,uBAAyB,SAAgC1B,GACrF,IAAK,IAAI2B,KAAiBtC,KAAKU,eAC3BC,EAAY4B,WAAWD,IAI/B9B,EAAsBU,UAAUQ,IAAM,SAAuBH,GAC5DA,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjC,IAAIE,EAlFL,SAAuBtB,EAAaC,GAChC,IAAIqC,EAAarC,EAAO,IACxB,GAAID,EAAe,OAAOA,EAAYuC,QAAQtC,GAC9C,IAAIuC,EAAKrC,SAASC,OAAOqC,MAAM,KAC/B,IAAI,IAAIC,EAAQ,EAAGA,EAAQF,EAAGG,OAAQD,IAAS,CAC3C,IAAIE,EAAIJ,EAAGE,GACX,KAAoB,KAAbE,EAAEC,OAAO,IAASD,EAAIA,EAAEE,UAAU,EAAGF,EAAED,QAC9C,GAA6B,GAAzBC,EAAEG,QAAQT,GAAkB,OAAOM,EAAEE,UAAUR,EAAWK,OAAQC,EAAED,QAE5E,OAAO,KAyEQK,CAAcnD,KAAKG,YAAaoB,EAAOM,KACzD,OAAIJ,MAAAA,EAA0DA,GAC9DA,EAAyC,mBAAnBzB,KAAKc,UAA4Bd,KAAKe,UAAUU,EAAaF,GAAUE,OACzEb,IAAhBa,EACI2B,KAAKC,MAAM5B,GAAaM,WADhC,IAKDvB,EAAsBU,UAAUkB,IAAM,SAAsBb,EAAQQ,GACnER,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjCQ,EAAQqB,KAAKE,cAAc,CAAEvB,MAAAA,IAC7B,IAAIwB,EAA4C,mBAAnBvD,KAAKc,UAA4Bd,KAAKc,UAAUiB,EAAOR,GAAUQ,EAC1FyB,EAAejC,EAAOiC,cAAgB,QACd5C,IAAxB4C,EAAaC,SAAsBD,EAAaC,QAAS,GA5H9D,SAAuBtD,EAAaC,EAAM2B,EAAOd,EAAsBR,GACnE,IAAIiD,EAAU,GACd,GAAIzC,EAAsB,CACtB,IAAI0C,EAAO,IAAIC,KACfD,EAAKE,QAAQF,EAAKG,UAAY,GAC9BJ,EAAU,aAAeC,EAAKI,cAElC,GAAI5D,EAOAA,EAAY6D,QAAQ5D,EAAM2B,OACvB,CACT,IAAIkC,EAAqB,GACzB,GAAIxD,EACH,IAAK,IAAIoB,KAAOpB,EACfwD,GAAsB,KAAKpC,KACN,IAAjBpB,EAAQoB,KACXoC,GAAsB,IAAIxD,EAAQoB,MAI/BvB,SAASC,OAASH,EAAO,KAAO2B,GAAS,IAAO2B,EAAU,WAAaO,GAoG9EC,CAAclE,KAAKG,YAAaoB,EAAOM,IAAK0B,EAAgBvD,KAAKiB,qBAAsBuC,IAGxFhD,EAAsBU,UAAUiD,OAAS,SAA0B5C,GAClEA,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjCrB,EAAqBF,KAAKG,YAAaoB,EAAOM,MAG/ChC,EAAOD,QAAUY,G,qBCrIjBX,EAAOD,QAHP,SAAkCe,M,2BCAlC,MAAMV,EAAQ,EAAQ,KAEtB,SAASmE,EAA4B3D,GACpCT,KAAKU,eAAiB,GACtBV,KAAKW,iBAAcC,EACfX,EAAMY,SAASJ,IAAYA,EAAQK,WACtCd,KAAKc,UAAYL,EAAQK,UACzBd,KAAKe,UAAYN,EAAQM,UACzBf,KAAKqE,iBAAmB5D,EAAQO,QAEhChB,KAAKqE,iBAAmB5D,EAEzBT,KAAKqE,iBAAmBrE,KAAKqE,kBAAoBC,aAGlDF,EAA4BlD,UAAUC,qBAAuB,SAA8BR,GAC1F,IAAKA,EAAa,OAClB,MAAMS,EAAWpB,KACjBA,KAAKW,YAAcA,EACnB,MAAM0D,EAAmBrE,KAAKqE,iBACxBhD,EAAmBV,EAAYW,oBAAmB,SAAgCb,EAASc,GAChG,IAAKA,EAAOC,MAAO,OACnB,MAAMC,EAAchB,EAAQiB,IAAIC,KAAKP,EAAUG,GAC/C,YAAoBX,IAAhBa,EACCF,EAAOK,kBACVyC,EAAiBhE,WAAWkB,EAAOM,KAG7B,CACNC,oCAAoC,EACpCD,IAAKN,EAAOM,IACZE,MAAON,QART,IAWE,CACFV,UAAWf,KAAKe,UAChBW,IAAK1B,KAAK0B,MAEX1B,KAAKU,eAAesB,KAAKX,GAEzB,MAAMY,EAAoBtB,EAAYuB,sBAAqB,SAAgCzB,EAASc,EAAQY,GACtGZ,EAAOC,OACRW,GACH1B,EAAQ2B,IAAIT,KAAKP,EAAUG,EAAQY,KAElC,CACFrB,UAAWd,KAAKc,UAChBsB,IAAKpC,KAAKoC,MAEXpC,KAAKU,eAAesB,KAAKC,IAG1BmC,EAA4BlD,UAAUmB,uBAAyB,SAAgC1B,GAC9F,IAAK,IAAI2B,KAAiBtC,KAAKU,eAC9BC,EAAY4B,WAAWD,IAIzB8B,EAA4BlD,UAAUQ,IAAM,SAAwBH,GACnEA,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjC,IAAIE,EAAczB,KAAKqE,iBAAiB3B,QAAQnB,EAAOM,KACvD,OAAIJ,MAAAA,EAA0DA,GAC9DA,EAAyC,mBAAnBzB,KAAKc,UAA4Bd,KAAKe,UAAUU,EAAaF,GAAUE,OACzEb,IAAhBa,EACI2B,KAAKC,MAAM5B,GAAaM,WADhC,IAKDqC,EAA4BlD,UAAUkB,IAAM,SAAuBb,EAAQQ,GAC1ER,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjCQ,EAAQqB,KAAKE,cAAc,CAAEvB,MAAAA,IAC7B,IAAIwB,EAA4C,mBAAnBvD,KAAKc,UAA4Bd,KAAKc,UAAUiB,EAAOR,GAAUQ,EAC9F/B,KAAKqE,iBAAiBL,QAAQzC,EAAOM,IAAK0B,IAG3Ca,EAA4BlD,UAAUiD,OAAS,SAA2B5C,GACzEA,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjCvB,KAAKqE,iBAAiBhE,WAAWkB,EAAOM,MAGzChC,EAAOD,QAAUwE,G,2BChFjB,MAAMnE,EAAQ,EAAQ,KAEtB,SAASsE,EAAmB9D,GAC3BT,KAAKW,iBAAcC,EACnBZ,KAAKU,eAAiB,GAClBT,EAAMY,SAASJ,IAAYA,EAAQO,OACtChB,KAAKgB,OAASP,EAAQO,OAEtBhB,KAAKgB,OAASP,GAAW,GAI3B8D,EAAmBrD,UAAUC,qBAAuB,SAA8BR,GACjF,IAAKA,EAAa,OAClB,MAAMS,EAAWpB,KACjBA,KAAKW,YAAcA,EACnB,MAAMU,EAAmBV,EAAYW,oBAAmB,SAA+Bb,EAASc,GAC/F,IAAKA,EAAOC,MAAO,OACnB,MAAMC,EAAchB,EAAQiB,IAAIC,KAAKP,EAAUG,GAC/C,YAAoBX,IAAhBa,EACCF,EAAOK,yBACHnB,EAAQO,OAAOO,EAAOM,KAGvB,CACNC,oCAAoC,EACpCD,IAAKN,EAAOM,IACZE,MAAON,QART,IAWE,CACFT,OAAQhB,KAAKgB,OACbU,IAAK1B,KAAK0B,MAEX1B,KAAKU,eAAesB,KAAKX,GAEzB,MAAMY,EAAoBtB,EAAYuB,sBAAqB,SAA+BzB,EAASc,EAAQY,GACrGZ,EAAOC,OACRW,GACH1B,EAAQ2B,IAAIT,KAAKP,EAAUG,EAAQY,KAElC,CACFnB,OAAQhB,KAAKgB,OACboB,IAAKpC,KAAKoC,MAEXpC,KAAKU,eAAesB,KAAKC,IAG1BsC,EAAmBrD,UAAUmB,uBAAyB,SAAgC1B,GACrF,IAAK,IAAI2B,KAAiBtC,KAAKU,eAC9BC,EAAY4B,WAAWD,IAIzBiC,EAAmBrD,UAAUQ,IAAM,SAAuBH,GACzDA,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjC,MAAME,EAAczB,KAAKgB,OAAOO,EAAOM,KACvC,QAAoBjB,IAAhBa,EACH,OAAO2B,KAAKC,MAAM5B,GAAaM,OAIjCwC,EAAmBrD,UAAUkB,IAAM,SAAsBb,EAAQQ,GAChER,EAAOM,IAAM5B,EAAMuC,cAAcjB,GACjCvB,KAAKgB,OAAOO,EAAOM,KAAOuB,KAAKE,cAAc,CAC5CvB,MAAAA,KAIFwC,EAAmBrD,UAAUiD,OAAS,SAA0B5C,GAC/DA,EAAOM,IAAM5B,EAAMuC,cAAcjB,UAC1BvB,KAAKgB,OAAOO,EAAOM,MAG3BhC,EAAOD,QAAU2E,G,2BC1EjB,MAAMtE,EAAQ,EAAQ,KAChBmE,EAA8B,EAAQ,KAe5CvE,EAAOD,QAbP,SAAuCa,GACtC,IAAI+D,EAAiB,GASrB,OARIvE,EAAMY,SAASJ,IAAY+D,EAAe1D,WAC7C0D,EAAe1D,UAAYL,EAAQK,UACnC0D,EAAezD,UAAYN,EAAQM,UACnCyD,EAAexD,OAASP,EAAQO,QAEhCwD,EAAexD,OAASP,EAEzB+D,EAAexD,OAASwD,EAAexD,QAAUyD,eAC1C,IAAIL,EAA4B3D,K,cCfxCZ,EAAOD,QAAU,CAChB2E,mBAAoB,EAAQ,KAC5B/D,sBAAuB,EAAQ,KAE/BkE,yBAA0B,EAAQ,KAClCN,4BAA6B,EAAQ,KACrCO,8BAA+B,EAAQ,O,2BCJxC,MAAM1E,EAAQ,EAAQ,KAChB2E,EAAmB,sBA2KzB/E,EAAOD,QAzKP,SAAsB2B,EAAQsD,GAC7B,OAAO,IAAIC,SAAQ,SAAqBC,EAAgBC,GACvD,IAAIC,EAAU1D,EAAO2D,MAAQ,KACzBC,EAAa5D,EAAO6D,SAAW,GAC/BC,EAAcC,OAAOC,KAAKJ,GAAYK,QAAO,CAACC,EAAKC,KACtDD,EAAIC,EAAOC,eAAiBD,EACrBD,IACL,IACCG,EAAerE,EAAOqE,aAC1Bf,EAAkBA,IAAoBtD,EAAOC,OAASD,EAAOC,MAAMb,YAChEY,EAAOC,MAAMb,YACbkE,GAEC5E,EAAM4F,WAAWZ,IAAYI,EAAY,uBACrCF,EAAW,iBACPlF,EAAM6F,cAAcb,IAAYhF,EAAMY,SAASoE,IAAYhF,EAAM8F,QAAQd,MAAcI,EAAY,kBAC9GF,EAAW,gBAAkB,oBAE9B,MAAMa,EAAoB/F,EACxBgG,6BAA6BpB,EAAiB,mBAAoBtD,GAClE2E,QAAOC,IAA4E,IAAxDA,EAAiBrE,qCAC9C,GAAIkE,EAAkBlD,OAAS,IAAMvB,EAAOK,aAG3C,OAFAoE,EAAkB,GAAGjE,MAAMqE,aAAc,OACzCrB,EAAeiB,EAAkB,GAAGjE,OAGrC,IAAIsE,EAAM,IAAIzB,EACd,GAAIrD,EAAO+E,KAAM,CAChB,IAAIC,EAAWhF,EAAO+E,KAAKC,UAAY,GACnCC,EAAWjF,EAAO+E,KAAKE,SAAWC,SAASC,mBAAmBnF,EAAO+E,KAAKE,WAAa,GAC3FrB,EAAWwB,cAAgB,SAAW1G,EAAM2G,SAASL,EAAW,IAAMC,GAEvE,IAAIK,EAAW5G,EAAM6G,iBAAiBvF,EAAOwF,QAASxF,EAAOyF,KAG7D,SAASC,IACR,IAAKZ,EACJ,OAED,IAAIa,EAAkB,0BAA2Bb,EAAMpG,EAAMkH,aAAad,EAAIe,yBAA2B,KACrGC,EAAgBzB,GAAiC,SAAjBA,GAA6C,SAAjBA,EAE7DS,EAAIlE,SADJkE,EAAIiB,aAEHnF,EAAW,CACdoF,OAAQlB,EAAIkB,OACZC,WAAYnB,EAAImB,WAChBpC,QAAS8B,EACT3F,OAAQA,EACRkG,QAASpB,EACTD,aAAa,GAId,GAFAnG,EAAMgG,6BAA6BpB,EAAiB,oBAAqBtD,EAAQY,GACjFA,EAASuF,KAAOL,EACE,KAAdhB,EAAIkB,QAAiBhG,EAAOqE,eAAsE,GAAtDrE,EAAOqE,aAAaD,cAAczC,QAAQ,QACzF,IACCf,EAAS+C,KAAO9B,KAAKC,MAAMlB,EAASuF,MACnC,MAAOC,GACRxF,EAAS+C,KAAO/C,EAASuF,KACzB1C,EAAc/E,EAAM2H,aACnB,mDACArG,EACAtB,EAAM4H,YAAYC,iCAClB3F,EAASsF,QACTtF,SAIFA,EAAS+C,KAAO/C,EAASuF,KAE1BzH,EAAMgG,6BAA6BpB,EAAiB,qBAAsBtD,EAAQY,GAClFlC,EAAM8H,gBAAgB5F,EAAU4C,EAAgBC,GAChDqB,EAAM,KAyEP,GA/GGA,EAAI2B,MAAMzG,EAAO0G,QAAU,OAAOC,cAAejI,EAAMkI,SAAStB,EAAUtF,EAAO6G,OAAQ7G,EAAO8G,mBAAmB,GAwClH,cAAehC,EAClBA,EAAIY,UAAYA,EAEhBZ,EAAIiC,mBAAqB,WACnBjC,GAA0B,IAAnBA,EAAIkC,aAGG,IAAflC,EAAIkB,QAAkBlB,EAAImC,aAAoD,IAArCnC,EAAImC,YAAYtF,QAAQ,WAGrEuF,WAAWxB,IAGbZ,EAAIqC,QAAU,WACb,GAAInH,EAAOoH,MAAX,CACCpH,EAAOqH,gBAAgBrH,GACvB,IAAIY,EAAW,CACdoF,OAAQ,IACRC,WAAY,iBACZpC,QAAS,GACT7D,OAAQA,EACRkG,QAASpB,EACTD,aAAa,GAEdnG,EAAM8H,gBAAgB5F,EAAU4C,EAAgBC,QAGjDA,EAAc/E,EAAM2H,aACnB,gBACArG,EACAtB,EAAM4H,YAAYgB,cAClBxC,IAEDA,EAAM,MAEPA,EAAIyC,QAAU,WACRzC,IAGLrB,EAAc/E,EAAM2H,aACnB,wBACArG,EACAtB,EAAM4H,YAAYkB,gBAClB1C,IAEDA,EAAM,OAEPA,EAAI2C,UAAY,WACf,IAAIC,EAAsB1H,EAAO2H,QAC9B,cAAgB3H,EAAO2H,QAAU,cACjC,mBACC3H,EAAO0H,sBACVA,EAAsB1H,EAAO0H,qBAE9BjE,EAAc/E,EAAM2H,aACnBqB,EACA1H,EACAtB,EAAM4H,YAAYsB,cAClB9C,IAEDA,EAAM,MAEH,qBAAsBA,GACzBpG,EAAMmJ,QAAQjE,GAAY,SAA0BkE,EAAKxH,QACjC,IAAZoD,GAAiD,iBAAtBpD,EAAI8D,qBAClCR,EAAWtD,GAElBwE,EAAIiD,iBAAiBzH,EAAKwH,MAIzBpJ,EAAMsJ,uBAAwB,CACjC,IAAIC,GAAajI,EAAOkI,iBAAmBxJ,EAAMyJ,gBAAgB7C,KAActF,EAAOoI,eACnFC,QAAQC,KAAKtI,EAAOoI,qBACpB/I,EACC4I,IACHrE,EAAW5D,EAAOuI,gBAAkBN,GAGjCvJ,EAAM8J,YAAYxI,EAAOkI,mBAC7BpD,EAAIoD,kBAAoBlI,EAAOkI,iBAE5B7D,IAAiE,GAA/CA,EAAaD,cAAczC,QAAQ,UACxDmD,EAAIT,aAAerE,EAAOqE,cAEc,mBAA9BrE,EAAOyI,oBACjB3D,EAAI4D,iBAAiB,WAAY1I,EAAOyI,oBAEF,mBAA5BzI,EAAO2I,kBAAmC7D,EAAI8D,QACxD9D,EAAI8D,OAAOF,iBAAiB,WAAY1I,EAAO2I,kBAEhD7D,EAAI+D,KAAKhH,KAAKiH,UAAUpF,IACxBhF,EAAMgG,6BAA6BpB,EAAiB,oBAAqBtD,Q,cC1K3E,MAAM+I,EAAc,EAAQ,IACtBC,EAAe,EAAQ,KACvBC,EAAgB,EAAQ,KAE9B3K,EAAOD,QAAU,CAChB0K,YAAAA,EACAC,aAAAA,EACAC,cAAAA,I,0BCLD,MAAMvK,EAAQ,EAAQ,KAChBwK,EAAc,iBAgBpB5K,EAAOD,QAdP,SAAqB2B,EAAQmJ,GAC5B,MAAM7D,EAAW5G,EAAM6G,iBAAiBvF,EAAOwF,QAASxF,EAAOyF,KACzD2D,EAAc1K,EAAMkI,SAAStB,EAAUtF,EAAO6G,OAAQ7G,EAAO8G,kBAC7DuC,EAAS,IAAIH,EAAYE,EAAapJ,EAAOsJ,UAQnD,OANAD,EAAOX,iBAAiB,SAAUa,GAAM7K,EAAMgG,6BAA6ByE,EAAe,WAAYnJ,EAAQuJ,KAC9GF,EAAOX,iBAAiB,SAAUa,GAAM7K,EAAMgG,6BAA6ByE,EAAe,WAAYnJ,EAAQuJ,KAC9GF,EAAOX,iBAAiB,WAAYa,GAAM7K,EAAMgG,6BAA6ByE,EAAe,aAAcnJ,EAAQuJ,KAClHF,EAAOX,iBAAiB,QAASa,GAAM7K,EAAMgG,6BAA6ByE,EAAe,UAAWnJ,EAAQuJ,KAC5GF,EAAOG,SAAW,cAEXH,I,2BCdR,MAAM3K,EAAQ,EAAQ,KAEtB,SAAS+K,IACRhL,KAAKiL,SAAW,GAGjBD,EAAc9J,UAAUgK,SAAW,SAAkBC,EAAMC,EAAI3K,GAM9D,OALAT,KAAKiL,SAASjJ,KAAK,CAClBmJ,KAAAA,EACAC,GAAAA,EACA3K,QAAAA,IAEMT,KAAKiL,SAASnI,OAAO,GAG7BkI,EAAc9J,UAAUqB,WAAa,SAAoB8I,GACpDrL,KAAKiL,SAASI,KACjBrL,KAAKiL,SAASI,GAAM,OAItBL,EAAc9J,UAAUgF,OAAS,SAAgBoF,EAAMC,GACtD,OAAOvL,KAAKiL,SAAS/E,OAAOoF,EAAMC,IAGnCP,EAAc9J,UAAUkI,QAAU,SAAiBgC,EAAID,GACtDlL,EAAMmJ,QAAQpJ,KAAKiL,UAAU,SAAqBO,GACjC,OAAZA,GAAsBL,GAAQK,EAAQL,OAASA,GAClDC,EAAGI,OASNvL,EAAMmJ,QAAQ,CAAC,aAAc,cAAe,cAAe,iBAAiB,SAA0BqC,GACrGT,EAAc9J,UAAU,WAAWuK,KAAW,SAAUL,EAAI3K,GAC3D,IAAI0K,EAAOM,EAAM7I,MAAM,MAEvB,OADAuI,EAAO,QAAQA,EAAK,QAAQA,EAAK,KAAKjD,cAC/BlI,KAAKkL,SAASC,EAAMC,EAAI3K,OAQjCR,EAAMmJ,QAAQ,CAAE,QAAS,QAAS,UAAW,OAAS,gBAAiB,SAAwBsC,GAC9FV,EAAc9J,UAAU,eAAewK,KAAW,SAAUN,EAAI3K,GAC/D,OAAOT,KAAKkL,SAAS,MAAMQ,EAAMxD,gBAAiBkD,EAAI3K,OAIxDZ,EAAOD,QAAUoL,G,2BCvDjB,MAAM/K,EAAQ,EAAQ,KAChB+K,EAAgB,EAAQ,KAExBW,GADc,EAAQ,KACF1L,EAAM2L,yBAAyBtH,cACxD,IAAM,IAAK,EAAQ,KAAb,CAA8D,KAAM,QAC1E,IAAM,IAAK,EAAQ,SAGpB,SAASuH,EAAerK,GACpBxB,KAAK8L,OAAStK,GAASmK,EACvB3L,KAAK+L,aAAe/L,KAAK8L,OAAOnL,aAAe,IAAIqK,EACnDhL,KAAKgM,cAAgBhM,KAAK8L,OAAOpK,IAAI,CAAEG,IAAK,kCAAqC,EA8BrF,SAASoK,EAAmB1K,EAAQ2K,GAYhC,MAV0B,KAAtB3K,EAAO4K,aACP5K,EAAOC,MAAQ0K,EAAIE,wBAA0BF,EAAIE,wBAAwB7K,GAAU,KAC9EA,EAAOC,OAEC,uBADDD,EAAO4K,cAEP5K,EAAOC,MAAQ,IAAI0K,EAAIG,cAAc9H,oBAK9ChD,EAvCXsK,EAAe3K,UAAUc,KAAO,SAAcsK,EAAQnB,QACnCvK,IAAX0L,IACAnB,GAAQlL,EAAMY,SAASyL,KAASA,EAAOnB,KAAOA,GAClDnL,KAAK8L,OAAO1J,IAAI,CACZP,IAAK,2BAA0B7B,KAAKgM,eACrCM,GACHtM,KAAK8L,OAAO1J,IAAI,CAAEP,IAAK,gCAAkC7B,KAAKgM,eAC9D/L,EAAMmJ,QAAQnJ,EAAMsM,eAAetM,EAAMuM,mBAAmBC,eAAgBrB,GAAOA,EAAGkB,EAAOnB,KAAMmB,OAGvGT,EAAe3K,UAAUwL,IAAM,WAE3B,GADwB,IAAvB1M,KAAKgM,gBAAqBhM,KAAKgM,cAAgBhM,KAAK8L,OAAOpK,IAAI,CAAEG,IAAK,kCAAqC,IACvG7B,KAAKgM,cAAe,OACzB,MAAMW,EAAW,wBAAwB3M,KAAKgM,gBACxC9G,EAAOlF,KAAK8L,OAAOpK,IAAI,CAAEG,IAAK8K,IAQpC,OAPA3M,KAAK8L,OAAO3H,OAAO,CAAEtC,IAAK8K,IAC1B3M,KAAKgM,gBACAhM,KAAKgM,cAGNhM,KAAK8L,OAAO1J,IAAI,CAAEP,IAAK,gCAAkC7B,KAAKgM,eAF9DhM,KAAK8L,OAAO3H,OAAO,CAAEtC,IAAK,iCAIvBqD,GAoBX2G,EAAe3K,UAAUyH,MAAQ,SAAewC,EAAMe,GAClD,IAAIU,EACJ,KAAQA,EAAQ5M,KAAK0M,OACbE,EAAMzB,OAASA,GACfA,IAASU,EAAegB,KAAKC,eAC7B,IAAKZ,EAAIa,aAAetF,QAAQwE,EAAmBW,EAAMrL,OAAQ2K,IAChEc,MAAK7K,IACqB,KAAnBA,EAASoF,QACTtH,EAAMmJ,QAAQnJ,EAAMsM,eAAetM,EAAMuM,mBAAmBS,gBAAiB7B,GAAOA,EAAGD,EAAMhJ,QAElG+K,OAAMC,IACLlN,EAAMmJ,QAAQnJ,EAAMsM,eAAetM,EAAMuM,mBAAmBY,eAAgBhC,GAAOA,EAAGD,EAAMhJ,gBAM5G0J,EAAegB,KAAO,CAClBC,aAAc,wBAGlBjN,EAAOD,QAAUiM,G,2BC7EjB,MAAM5L,EAAQ,EAAQ,KAChBoN,EAAW,EAAQ,KACnBrC,EAAgB,EAAQ,KACxBa,EAAiB,EAAQ,KAE/B,SAASkB,EAAYO,GACpBtN,KAAKsN,eAAiBA,GAAkB,GACxCtN,KAAK6E,gBAAkB7E,KAAKsN,eAAe3M,aAAe,IAAIqK,EAC1DhL,KAAKsN,eAAe9L,OAAmE,mBAAnDxB,KAAKsN,eAAe9L,MAAML,sBACjEnB,KAAKsN,eAAe9L,MAAML,qBAAqBnB,KAAK6E,iBAItD,SAAS+D,EAAgBrH,GACxB,MAAMgM,EAAiBhM,EAAOgM,gBAAkB,IAAI1B,EACpDtK,EAAOiM,YAAevN,EAAMwN,SAASlM,EAAOiM,eAAqBjM,EAAOiM,YAAb,EACtDvN,EAAMwN,SAASlM,EAAOmM,YAC1BnM,EAAOmM,SAAWL,EAASM,qBAExBpM,EAAOiM,YAAcjM,EAAOmM,SAC/BzN,EAAMmJ,QAAQnJ,EAAMsM,eAAetM,EAAMuM,mBAAmBoB,kBAAmBxC,GAAOA,EAAG7J,MAG1FA,EAAO4K,WAAa5K,EAAOC,MAAQD,EAAOC,MAAMqM,YAAYzN,KAAO,GACnEmN,EAAevL,KAAK,CACnBmJ,KAAM,uBACN5J,OAAAA,KAIFwL,EAAY7L,UAAUuG,QAAU,SAAiBqG,EAAavM,GAClC,iBAAhBuM,GACVvM,EAASA,GAAU,IACZyF,IAAM8G,EAEbvM,EAASuM,GAAe,GAEzB,IAUIC,EAVAC,EAAYzM,EAAOC,MAgBvB,OAfAD,EAAStB,EAAMgO,YAAY1M,EAAQvB,KAAKsN,gBAEpCU,GAAiD,IAApCA,EAAUtN,eAAeoC,QACzCkL,EAAU7M,qBAAqBnB,KAAK6E,iBAEjCtD,EAAOoH,QACVpH,EAAOqH,gBAAkBA,GAK1BmF,GADmBxM,EAAO2M,WAAab,EAASc,2BAC5B5M,EAAQvB,KAAK6E,iBAC7BmJ,GAAaA,EAAUtN,eAAeoC,OAAS,GAClDkL,EAAU3L,uBAAuBrC,KAAK6E,iBAEhCkJ,GAGRhB,EAAY7L,UAAUkN,OAAS,SAAgB7M,GAC9C,IAAKA,EAAOyF,IACX,MAAM,IAAIqH,MAAM,+BAGjB,OADA9M,EAAStB,EAAMgO,YAAY1M,EAAQvB,KAAKsN,gBACjCrN,EAAMkI,SAAS5G,EAAOyF,IAAKzF,EAAO6G,OAAQ7G,EAAO8G,kBAAkBiG,QAAQ,MAAO,KAG1FrO,EAAMmJ,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAAgCnB,GACnF8E,EAAY7L,UAAU+G,GAAU,SAAUjB,EAAKzF,GAC9C,OAAOvB,KAAKyH,QAAQxH,EAAMgO,YAAY1M,EAAQ,CAC7C0G,OAAAA,EACAjB,IAAAA,EACA9B,MAAO3D,GAAU,IAAI2D,YAKxBjF,EAAMmJ,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAAkCnB,GACzE8E,EAAY7L,UAAU+G,GAAU,SAAUjB,EAAK9B,EAAM3D,GAMpD,OALKA,IAAQA,EAAS,IACjBA,EAAO6D,UAAS7D,EAAO6D,QAAU,IACjC7D,EAAO6D,QAAgB,QAAM7D,EAAO6D,QAAgB,QAAM7D,EAAO6D,QAAgB,SACrF7D,EAAO6D,QAAgB,OAAI,qCAErBpF,KAAKyH,QAAQxH,EAAMgO,YAAY1M,EAAQ,CAC7C0G,OAAAA,EACAjB,IAAAA,EACA9B,KAAAA,SAKHrF,EAAOD,QAAUmN,G,2BCzFjB,MAAM9M,EAAQ,EAAQ,KAChBoN,EAAW,EAAQ,KACnBrC,EAAgB,EAAQ,KAE9B,SAASuD,EAAUC,GAClBxO,KAAKyO,MAAQ,EACbzO,KAAK6K,SAAW,GAChB7K,KAAK0O,mBAAqB,EAC1B1O,KAAK2O,uBAAyB,EAC9B3O,KAAK4O,sBAAwB,EAC7B5O,KAAKwO,SAAWA,GAAY,GAC5BxO,KAAKW,YAAcX,KAAKwO,SAAS7N,aAAe,IAAIqK,EACpDhL,KAAK6O,WAAa,CACjB,OAAU,GACV,QAAW,GACX,QAAW,GACX,UAAa,GACb,cAAiB,IAInBN,EAAUrN,UAAU4N,UAAY,SAAmBZ,GAChC,GAAdlO,KAAKyO,OAA4B,GAAdzO,KAAKyO,OAC3BzO,KAAK+O,QAEDb,IAAWA,EAAalO,KAAKwO,SAASN,WAAab,EAAS2B,yBACjEhP,KAAKyO,MAAQ,EACbxO,EAAMmJ,QAAQpJ,KAAK6O,WAAWI,eAAgB7D,GAAOA,EAAGpL,KAAMA,KAAKyO,SACnEzO,KAAKkP,WAAahB,EAAUlO,KAAKwO,SAAUxO,KAAKW,cAGjD4N,EAAUrN,UAAUiO,GAAK,SAAYrB,EAAavM,GACjD,MAAMH,EAAWnB,EAAMmP,aAAa,IAAIb,EAAavO,MAC1B,iBAAhB8N,GACVvM,EAASA,GAAU,IACZyF,IAAM8G,EAEbvM,EAASuM,GAAe,GAEzB1M,EAASoN,SAAWvO,EAAMgO,YAAY1M,EAAQH,EAASoN,UAEvD,MAAMN,GADN3M,EAASH,EAASoN,UACQN,WAAab,EAAS2B,wBAsEhD,OA9DA5N,EAAST,YAAY0O,mBAAkB,CAAC5O,EAASc,EAAQmK,KACxDzL,EAAMmJ,QAAQhI,EAASyN,WAAWS,SAAUlE,GAAOA,EAAGhK,EAAUsK,OAC9D,CAAEtK,SAAAA,IAGLA,EAAST,YAAY4O,mBAAkB,CAAC9O,EAASc,EAAQmK,KACxD,GAAuB,IAAnBtK,EAASqN,QAA+C,IAAhCrN,EAASoN,SAASM,WACzC1N,EAASwN,sBAAwBxN,EAASoN,SAASgB,aAOtD,OANApO,EAASsN,qBACTtN,EAASwN,wBACTxN,EAASuN,uBAAyBvN,EAASoN,SAASiB,yBACjDC,KAAKC,IAAIvO,EAASoN,SAASoB,kBAAmBxO,EAASsN,oBACvDtN,EAASoN,SAASoB,uBACrBnH,WAAWrH,EAAS0N,UAAUe,KAAKzO,EAAU8M,GAA8C,IAAlC9M,EAASuN,wBAIpEvN,EAASqN,MAAQ/C,EAAMoE,OAAOvH,WAC9BtI,EAAMmJ,QAAQhI,EAASyN,WAAWI,eAAgB7D,GAAOA,EAAGhK,EAAUA,EAASqN,SAC/ExO,EAAMmJ,QAAQhI,EAASyN,WAAWkB,SAAU3E,GAAOA,EAAGhK,EAAUsK,OAC9D,CAAEtK,SAAAA,IAGLA,EAAST,YAAYqP,kBAAiB,CAACvP,EAASc,EAAQmK,KACvDtK,EAASsN,mBAAqB,EAC9BtN,EAASuN,uBAAyB,EAC9BvN,EAAS8N,YAA+C,gBAAjC9N,EAAS8N,WAAWnE,WAC9C3J,EAASqN,MAAQ/C,EAAMoE,OAAOvH,WAC9BtI,EAAMmJ,QAAQhI,EAASyN,WAAWI,eAAgB7D,GAAOA,EAAGhK,EAAUA,EAASqN,SAC/ErN,EAASyJ,SAAWzJ,EAAS8N,WAAWrE,SACxCzJ,EAAS6O,WAAa7O,EAAS8N,WAAWe,YAE3ChQ,EAAMmJ,QAAQhI,EAASyN,WAAWqB,QAAS9E,GAAOA,EAAGhK,EAAUsK,OAC7D,CAAEtK,SAAUA,IAGfA,EAAST,YAAYwP,qBAAoB,CAAC1P,EAASc,EAAQmK,KAGxCtK,EAASqN,MAF3B,IAAIvJ,EACAkL,EAEAC,EAAWjP,EAASkP,mBAExBlP,EAASqN,MAAQ,EACjBxO,EAAMmJ,QAAQhI,EAASyN,WAAWI,eAAgB7D,GAAOA,EAAGhK,EAAUA,EAASqN,SAC9D,gBAAb4B,IACHnL,EAAOwG,EAAMxG,MAIZkL,EADI,SADEhP,EAASyJ,SAASlF,cAERvC,KAAKC,MAAM6B,GAGXA,EAIlB9D,EAASqN,MAAQ,EACjBxO,EAAMmJ,QAAQhI,EAASyN,WAAW0B,WAAYnF,GAAOA,EAAGhK,EAAUsK,EAAO0E,OACvE,CAAEhP,SAAAA,IACLA,EAAS8N,WAAahB,EAAU3M,EAAQH,EAAST,aACjDS,EAASkP,mBAAqBlP,EAAS8N,WAAWnE,SAE3C3J,GAGRmN,EAAUrN,UAAUgO,WAAa,WAChC,OAAOlP,KAAKkP,YAGbX,EAAUrN,UAAU6N,MAAQ,WAC3B/O,KAAKyO,MAAQ,EACbzO,KAAKkP,YAAclP,KAAKkP,WAAWH,SAGpCR,EAAUrN,UAAUsP,YAAc,SAAqBC,GACjDzQ,KAAKkP,aAEVlP,KAAKyO,MAAQ,EAETxO,EAAMY,SAAS4P,IAA4C,SAAhCzQ,KAAK6K,SAASlF,gBAC5C8K,EAAUrN,KAAKE,cAAcmN,IAI9BzQ,KAAKkP,WAAW9E,KAAKqG,GACrBzQ,KAAKyO,MAAQ,IAGdF,EAAUrN,UAAUwP,kBAAoB,WACvC,GAAK1Q,KAAKkP,WACV,MAAgC,gBAA5BlP,KAAKsQ,mBACDtQ,KAAKkP,WAAWyB,oBADxB,GAKDpC,EAAUrN,UAAUkN,OAAS,SAAgB7M,GAE5C,KADAA,EAASA,GAAUvB,KAAKwO,UACZxH,IACX,MAAM,IAAIqH,MAAM,+BAGjB,OADA9M,EAAStB,EAAMgO,YAAY1M,EAAQvB,KAAKsN,gBACjCrN,EAAMkI,SAAS5G,EAAOyF,IAAKzF,EAAO6G,OAAQ7G,EAAO8G,kBAAkBiG,QAAQ,MAAO,KAG1FC,EAAUrN,UAAU0P,cAAgB,WACnC,GAAK5Q,KAAKkP,WACV,MAAgC,gBAA5BlP,KAAKsQ,mBACDtQ,KAAKkP,WAAW2B,gBADxB,GAKDtC,EAAUrN,UAAU4P,cAAgB,SAAuB3F,GACrDnL,KAAKkP,YACsB,gBAA5BlP,KAAKsQ,qBACRtQ,KAAKkP,WAAW2B,WAAa1F,IAI/BlL,EAAMmJ,QAAQ,CAAE,SAAU,YAAa,UAAW,UAAW,kBAAmB,SAAwBsC,GACvG6C,EAAUrN,UAAUwK,GAAS,SAAUqF,GACtC/Q,KAAK6O,WAAWnD,GAAO1J,KAAK+O,OAI9BxC,EAAUyC,MAAQ,CACjBC,WAAY,EACZC,UAAW,EACXC,MAAO,EACPC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,4BAA6B,EAC7BC,6BAA8B,GAG/B3R,EAAOD,QAAU2O,G,QCzLjB1O,EAAOD,QAAU,CACb6R,UACAC,KAAM,KACNC,MAAO,KACPC,iB,2BCHJ,MAAM3R,EAAQ,EAAQ,KAChB4R,EAAU,EAAQ,KAGlBlE,EAAsB,MAE5B,SAASQ,IACR,IAAID,EAMJ,OAL8B,oBAAnB0D,gBAEmB,oBAAZE,SAAuE,qBAA5CxM,OAAOpE,UAAU6Q,SAASpQ,KAAKmQ,YAD3E5D,EAAY,EAAQ,MAIdA,EAGR,SAASc,IAER,OADgB,EAAQ,IAIzB,SAASgD,IACR,OAAI/R,EAAMgS,eAAiBJ,EAAQH,KAC3B,CACNQ,UAAW,IAAIL,EAAQH,KAAKS,MAAM,CAAEC,WAAW,IAC/CC,WAAY,IAAIR,EAAQF,MAAMQ,MAAM,CAAEC,WAAW,KAG5C,GAGR,MAAME,EAAa,CAClBpE,UAAWC,IACXjF,QAAS,EACTS,eAAgB,aAChBG,eAAgB,eAChByI,kBAAmB,EACnBC,eAAgB,EAChBC,aAAc,EACdvJ,QAAS,IACTtD,aAAc,OACd8M,eAAgB,SAAwBnL,GACvC,OAAOA,GAAU,KAAOA,EAAS,KAElCnC,QAAS,CACR,OAAU,qCAEXuD,OAAO,EACP+E,SAAUC,EACVgF,iBAAkB,QACfX,KAGExD,EAAW,CAChBN,UAAWc,IACXnE,SAAU,GACViE,WAAW,EACXU,aAAc7B,EACdiC,mBAAoB,EACpBH,0BAA0B,GAK3B5P,EAAOD,QAAU,CAChB4O,SAAAA,EACA8D,WAAAA,EACAN,aAAAA,EAEArE,oBAAAA,EACAqB,sBAAAA,EACAb,wBAAAA,I,cCzED,MAAMpB,EAAc,EAAQ,KACtBwB,EAAY,EAAQ,KACpBvD,EAAgB,EAAQ,KACxBa,EAAiB,EAAQ,KACzB+G,EAAa,EAAQ,KACrBvG,EAAgB,EAAQ,KACxBgB,EAAW,EAAQ,KACnBpN,EAAQ,EAAQ,KAEtB,SAAS4S,EAAKtR,GACb,MAAMuR,GAAgBvR,GAAU,IAAIgM,gBAAkB,IAAI1B,EACtDtK,GAAUA,EAAO+Q,aAAe/Q,EAAO+Q,WAAW/E,iBAAgBhM,EAAO+Q,WAAW/E,eAAiBuF,GACzG,MAAMR,EAAe/Q,EAAO+Q,YAAc/Q,GAAW8L,EAASiF,WACxD9D,EAAajN,EAAOiN,UAAYjN,GAAW8L,EAASmB,SAErD8D,EAAW1M,eAAc0M,EAAW1M,aAAeyH,EAASiF,WAAW1M,cACvE0M,EAAWI,iBAAgBJ,EAAWI,eAAiBrF,EAASiF,WAAWI,gBAEhF,MAAMK,EAAS,IAAIhG,EAAYuF,GACzBU,EAAO,IAAIzE,EAAUC,GAI3B,OAHAuE,EAAOC,KAAOA,EACdD,EAAOD,aAAeA,EACtBC,EAAO5D,GAAK,CAAC8D,EAAIC,IAAOH,EAAOC,KAAK7D,GAAG8D,EAAIC,GACpCH,EAIR,SAASI,EAAkBL,EAAc5G,GACnC4G,GACLA,EAAanK,MAAM,uBAAwBuD,GAG5C,MAAMA,EAAM2G,EAAKxF,EAASiF,YAG1BpG,EAAIqC,UAAYA,EAChBrC,EAAIa,YAAcA,EAClBb,EAAIlB,cAAgBA,EAGpBkB,EAAImB,SAAWA,EAGfnB,EAAIjM,MAAQA,EACZiM,EAAI2G,KAAOA,EACX3G,EAAIiH,kBAAoBA,EACxBjH,EAAIkH,cAAgB,KACnBD,EAAkBjH,EAAI4G,aAAc5G,IAIrCA,EAAIG,cAAgBA,EACpBH,EAAI0G,WAAaA,EAEjB/S,EAAOD,QAAUsM,EACjBrM,EAAOD,QAAP,QAAyBsM,G,qBCrDzB,MAEMrE,EAAc,CACnBwL,cAAe,gBACfC,eAAgB,qBAChBC,0BAA2B,gCAC3BxK,gBAAiB,sBACjByK,aAAc,mBACdC,oBAAqB,sBACrB3L,iCAAkC,mCAClC4L,mBAAoB,qBACpBC,mBAAoB,eACpB9K,cAAe,gBACfM,cAAe,iBAGVqD,EAAqB,CAC1BoB,gBAAiB,sBACjBX,cAAe,oBACfG,aAAc,mBACdX,aAAc,oBAGTmH,EAAgB,GAkBtB,SAASC,EAASxK,GACjB,MAAsB,iBAARA,EAGf,SAAStD,EAAQsD,GAChB,OAAOyK,MAAM/N,QAAQsD,GAOtB,SAASxI,EAASwI,GACjB,OAAe,OAARA,GAA+B,iBAARA,EAgB/B,SAAS0K,EAAW1K,GACnB,MAA8B,sBAAvB0I,SAASpQ,KAAK0H,GAGtB,SAAS2K,EAAO3K,GACf,MAA8B,kBAAvB0I,SAASpQ,KAAK0H,GAsBtB,SAASD,EAAQ6K,EAAKC,GACrB,GAAID,MAAAA,EAOJ,GAJmB,iBAARA,IACVA,EAAM,CAACA,IAGJlO,EAAQkO,GACX,IAAK,IAAIE,EAAI,EAAGC,EAAIH,EAAInR,OAAQqR,EAAIC,EAAGD,IACtCD,EAAGvS,KAAK,KAAMsS,EAAIE,GAAIA,EAAGF,QAG1B,IAAK,IAAIpS,KAAOoS,EACX3O,OAAOpE,UAAUmT,eAAe1S,KAAKsS,EAAKpS,IAC5CqS,EAAGvS,KAAK,KAAMsS,EAAIpS,GAAMA,EAAKoS,GAMlC,SAAShG,EAAYqG,EAAMC,GAG1B,GADAA,EAAOA,GAAQ,GACX,OAFJD,EAAOA,GAAQ,KAGd,MAACC,EACD,MAAO,GAER,IAAIC,EAAS,GACb,GAAoB,iBAATF,GAAqC,iBAATC,EAEtC,OADAC,EAASD,EACFC,EAER,GAAoB,iBAATD,EAEV,OADAC,EAASF,EACFE,EAER,IAAK,IAAI3S,KAAOyS,EAAQE,EAAO3S,GAAOyS,EAAKzS,GAC3C,IAAK,IAAIA,KAAO0S,OACK3T,IAAhB4T,EAAO3S,IAAsC,OAAhB2S,EAAO3S,KACvC2S,EAAO3S,GAAO0S,EAAK1S,IAGrB,OAAO2S,EAeR,SAASC,EAAkBpL,GAC1B,MAA8B,6BAAvB0I,SAASpQ,KAAK0H,GAGtB,SAASqL,EAAerL,GACvB,OAAO3C,mBAAmB2C,GACzBiF,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KAkDnB,SAASqG,IACR,QAA2B,oBAAXC,QAgBjB,SAAShN,EAAa6I,EAASlP,EAAQsT,EAAMpN,EAAStF,GACrD,IAAIgL,EAAQ0G,EAASpD,GAAW,IAAIpC,MAAMoC,GAAWA,EAyBrD,OAxBAtD,EAAM5L,OAASA,EACXsT,IACH1H,EAAM0H,KAAOA,GAEd1H,EAAM1F,QAAUA,EAChB0F,EAAMhL,SAAWA,EACjBgL,EAAM2H,gBAAiB,EAEvB3H,EAAM4H,OAAS,WACd,MAAO,CACN3U,KAAMJ,KAAKI,KACXqQ,QAASzQ,KAAKyQ,QACduE,YAAahV,KAAKgV,YAClBC,OAAQjV,KAAKiV,OACbC,SAAUlV,KAAKkV,SACfC,WAAYnV,KAAKmV,WACjBC,aAAcpV,KAAKoV,aACnBC,MAAOrV,KAAKqV,MACZ9T,OAAQvB,KAAKuB,OACbsT,KAAM7U,KAAK6U,KACXtN,OAASvH,KAAKmC,UAAYnC,KAAKmC,SAASoF,OAASvH,KAAKmC,SAASoF,OAAS,KACxE+N,aAAetV,KAAKmC,UAAYnC,KAAKmC,SAASuF,KAAO1H,KAAKmC,SAASuF,KAAO,OAGrEyF,EAGR,SAASoI,EAAcvO,GACtB,MAAO,8BAA8BwO,KAAKxO,GAO3C,SAASyO,EAAY1O,EAAS2O,GAC7B,OAAOA,EACJ3O,EAAQuH,QAAQ,OAAQ,IAAM,IAAMoH,EAAYpH,QAAQ,OAAQ,IAChEvH,EAUJ,SAAS4O,EAAqBC,EAAWC,GACxCzM,EAAQyM,EAAUhI,YAAY3M,WAAa,IAAI,SAAqB4U,EAAYC,GACzEA,KAAcH,EAAU/H,YAAY3M,YACzC0U,EAAU/H,YAAY3M,UAAU6U,GAAcD,MAKjD,SAASE,EAAoBJ,EAAWC,GACvCzM,EAAQyM,GAAa,IAAI,SAAqBI,EAAW7V,GACxD,IAAI8V,EAAWN,EAAUxV,GACrB8V,EACCrV,EAASqV,GACZN,EAAUxV,GAAQ6N,EAAYiI,EAAUD,GAC9BlQ,EAAQmQ,GAInBN,EAAUxV,GAAQ6V,KApRrB7S,KAAKE,cAAgB,CAAC2Q,EAAKkC,EAAS,KACnC,IAAI3U,EAAQ,GACZ,MAAM4U,EAAShT,KAAKiH,UAClB4J,GACA,CAACpS,EAAKE,IACU,iBAAVA,GAAgC,OAAVA,EACzBP,EAAM6U,SAAStU,GAChB,aACAP,EAAMQ,KAAKD,IAAUA,EACpBA,GACHoU,GAGF,OADA3U,EAAQ,KACD4U,GA2SR,IAAIE,EAAoB,CACvB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAG3B,SAASC,EAAKC,GACb,OAAOA,EAAID,KAAOC,EAAID,OAASC,EAAIlI,QAAQ,aAAc,IA4D1D,SAASmI,EAAoB5U,EAAK6J,GAGjC,OAFKkI,EAAc/R,KAAM+R,EAAc/R,GAAO,IAC9C+R,EAAc/R,GAAKG,KAAK0J,GACjBkI,EAAc9Q,OAAS,EAiB/BjD,EAAOD,QAAU,CAChB2W,KAAAA,EACAvC,OAAAA,EACA0C,QA5ae,QA6aftN,QAAAA,EACArD,QAAAA,EACAa,SAvDD,SAAkB7E,GACjB,OAAI4S,IACIgC,KAAK5U,GAEN6U,OAAOC,KAAK9U,GAAOgQ,SAAS,WAoDnC+E,SAtVD,SAAkBC,GAIjB,OAH8B,QAA1BA,EAAQC,WAAW,KACtBD,EAAUA,EAAQE,MAAM,IAElBF,GAmVP5O,SAxQD,SAAkBnB,EAAKoB,EAAQ8O,GAC9B,IAAK9O,EACJ,OAAOpB,EAGR,IAAImQ,EACJ,GAAI1C,EAAkBrM,GACrB+O,EAAiB/O,EAAO2J,gBAClB,GAAImF,EACVC,EAAiBD,EAAW9O,OACtB,CACN,IAAIgP,EAAc,GAClBhO,EAAQhB,GAAQ,SAAmBrG,EAAOF,GACrCE,MAAAA,IAIAgE,EAAQhE,GACXF,GAAY,KAEZE,EAAQ,CAACA,GAGVqH,EAAQrH,GAAO,SAAoBsH,GAC9B2K,EAAO3K,GACVA,EAAMA,EAAIgO,cACAxW,EAASwI,KACnBA,EAAMjG,KAAKiH,UAAUhB,IAEtB+N,EAAYpV,KAAK,GAAG0S,EAAe7S,MAAQ6S,EAAerL,SAE3D8N,EAAiBC,EAAYE,KAAK,SAKpC,GAAIH,EAAgB,CACnB,IAAII,EAAYvQ,EAAI9D,QAAQ,MACT,IAAfqU,IACHvQ,EAAMA,EAAIiQ,MAAM,EAAGM,IAGpBvQ,KAA8B,IAAtBA,EAAI9D,QAAQ,KAAc,IAAM,KAAOiU,EAEhD,OAAOnQ,GA6NPyG,SAzXD,SAAkBpE,GACjB,MAAsB,iBAARA,GAyXdmO,SArWD,SAAkBnO,GACjB,OAAOxI,EAASwI,IAAQ0K,EAAW1K,EAAIoO,OAqWvC5D,SAAAA,EACAhT,SAAAA,EACA6W,WAvDD,SAAoB3V,GACnB,OAAI4S,IACIgD,KAAK5V,GAEN6U,OAAOC,KAAK9U,EAAO,UAAUgQ,YAoDpClM,WAtYD,SAAoBwD,GACnB,MAA8B,sBAAvB0I,SAASpQ,KAAK0H,IAsYrB0K,WAAAA,EACA9B,YA7ND,WACC,MAA2B,oBAAZH,SAAuE,qBAA5CxM,OAAOpE,UAAU6Q,SAASpQ,KAAKmQ,UA6NzE7D,YAAAA,EACAwH,YAAAA,EACA5N,YAAAA,EACAkC,YAvWD,SAAqBV,GACpB,YAAsB,IAARA,GAuWd+F,aA5ID,YAAyByC,GACxB,MAAM+D,EAAY/D,EAAQ,GAM1B,OALAzI,EAAQyI,GAAS,SAAsB+F,EAAO/U,GAChC,GAATA,IACJmT,EAAoBJ,EAAWgC,GAC/BjC,EAAqBC,EAAWgC,OAE1BhC,GAsIPjB,aAAAA,EACAxN,aApGD,SAAsB/B,GACrB,IACIvD,EACAwH,EACA8K,EAHA0D,EAAS,GAKb,OAAKzS,GAELgE,EAAQhE,EAAQxC,MAAM,OAAO,SAAgBkV,GAK3C,GAJA3D,EAAI2D,EAAK5U,QAAQ,KACjBrB,EAAM0U,EAAKuB,EAAKC,OAAO,EAAG5D,IAAIxO,cAC9B0D,EAAMkN,EAAKuB,EAAKC,OAAO5D,EAAI,IAEvBtS,EAAK,CACV,GAAIgW,EAAOhW,IAAQyU,EAAkBpT,QAAQrB,IAAQ,EACnD,OAGAgW,EAAOhW,GADG,eAARA,GACagW,EAAOhW,GAAOgW,EAAOhW,GAAO,IAAImW,OAAO,CAAC3O,IAEzCwO,EAAOhW,GAAOgW,EAAOhW,GAAO,KAAOwH,EAAMA,MAKnDwO,GAnBgBA,GA+FvBjQ,aAAAA,EACA9B,cArYD,SAAuBuD,GACtB,GAA2B,oBAAvB0I,SAASpQ,KAAK0H,GACjB,OAAO,EAGR,IAAInI,EAAYoE,OAAO2S,eAAe5O,GACtC,OAAqB,OAAdnI,GAAsBA,IAAcoE,OAAOpE,WAgYlDqU,cAAAA,EACA2C,cA1LD,SAAuBlR,GACtB,OAAQuO,EAAcvO,IA0LtBmR,cAnXD,SAAuB9O,GACtB,MAA8B,yBAAvB0I,SAASpQ,KAAK0H,IAmXrB7G,cA3HD,SAAuBjB,GACtB,OAAOA,EAAOM,KAAON,EAAOyF,KAAOzF,EAAO6W,WACvC,KAAK7W,EAAO0G,QAAU,OAAOC,yBAC7B,KAAK3G,EAAO0G,QAAU,OAAOC,yBAyHhCmQ,cAxDD,SAAuBjX,GACtB,OAAOkE,OAAOgT,OAAOhT,OAAOiT,OAAOjT,OAAO2S,eAAe7W,IAAYA,IAwDrEsT,eAAAA,EACAnI,eAzCD,SAAwB1K,GACvB,OAAO+R,EAAc/R,IAAQ,IAyC7B6H,gBApED,SAAyB1C,GACxB,OAAO,GAoEPe,gBA/ID,SAAyB5F,EAAUqW,EAASC,GAC3C,IAAI/F,EAAiBvQ,EAASZ,OAAOmR,eAChCvQ,EAASoF,QAAWmL,IAAkBA,EAAevQ,EAASoF,QAGlEkR,EAAO7Q,EACN,mCAAqCzF,EAASoF,OAC9CpF,EAASZ,OACTsG,EAAYyL,eACZnR,EAASsF,QACTtF,IAPDqW,EAAQrW,IA6IT2E,iBAxLD,SAA0BC,EAAS2R,GAClC,OAAI3R,IAAYwO,EAAcmD,GACtBjD,EAAY1O,EAAS2R,GAEtBA,GAqLPjE,kBAAAA,EACA7I,kBApED,SAA2B+M,EAAMC,EAAQC,GACxC,MAAa,cAATF,EAA6BC,EAAOjX,OAC5BkX,EAASlX,QAmErB6K,mBAAAA,EACAsM,oBA5C4BpN,GAAU+K,EAAoBjK,EAAmBC,aAAcf,GA6C3F+K,oBAAAA,EACAT,oBAAAA,EACAL,qBAAAA,EACApM,qBApPD,WACC,OAAyB,oBAAdwP,WAAoD,gBAAtBA,UAAUC,SAC3B,iBAAtBD,UAAUC,SACY,OAAtBD,UAAUC,UAGc,oBAAXpE,QAA8C,oBAAbtU,UA+OhD2Y,sBA1DD,SAA+BpX,EAAKgB,GAC9B+Q,EAAc/R,IAAS+R,EAAc/R,GAAKiB,QAC/C8Q,EAAc/R,GAAKqX,OAAOrW,EAAO,IAyDjCsW,0BAhDkCzN,GAAU+K,EAAoBjK,EAAmBS,cAAevB,GAiDlG0N,0BAlDkC1N,GAAU+K,EAAoBjK,EAAmBY,aAAc1B,GAmDjG2N,2BAjDmC3N,GAAU+K,EAAoBjK,EAAmBoB,gBAAiBlC,GAkDrGzF,6BA1UD,SAAsCtF,EAAawK,EAAM5J,EAAQ+X,GAChE,MAAMC,EAAY,GAClB,OAAK5Y,GACLyI,EAAQzI,EAAYuF,QAAOsT,GAAKA,GAAKA,EAAErO,OAASA,KAAO,SAAwBK,GAC9E,IAAKA,IAAYA,EAAQJ,GAAI,OAC7B,GAA4B,mBAAjBI,EAAQiO,OAAgD,IAAzBjO,EAAQiO,KAAKlY,GAAmB,OAC1E,MAAMY,EAAWqJ,EAAQJ,GAAGI,EAAQ/K,QAASc,EAAQ+X,QACpC1Y,IAAbuB,GAAwBoX,EAAUvX,KAAKG,MAErCoX,GAPkBA,MCnJtBG,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBhZ,IAAjBiZ,EACH,OAAOA,EAAaja,QAGrB,IAAIC,EAAS6Z,EAAyBE,GAAY,CAGjDha,QAAS,IAOV,OAHAka,EAAoBF,GAAU/Z,EAAQA,EAAOD,QAAS+Z,GAG/C9Z,EAAOD,QClBW+Z,CAAoB,I,MDF1CD","sources":["webpack://ffs/webpack/universalModuleDefinition","webpack://ffs/./index.js","webpack://ffs/./lib/cachemanagers/CookieFFSCacheManager.js","webpack://ffs/./lib/cachemanagers/KeyvRedisFFSCacheManager.js","webpack://ffs/./lib/cachemanagers/LocalStorageFFSCacheManager.js","webpack://ffs/./lib/cachemanagers/MapFFSCacheManager.js","webpack://ffs/./lib/cachemanagers/SessionStorageFFSCacheManager.js","webpack://ffs/./lib/cachemanagers/index.js","webpack://ffs/./lib/connectors/http/xhrConnector.js","webpack://ffs/./lib/connectors/index.js","webpack://ffs/./lib/connectors/ws/wsConnector.js","webpack://ffs/./lib/core/FuInterceptor.js","webpack://ffs/./lib/core/FuQueueManager.js","webpack://ffs/./lib/core/KyofuucHttp.js","webpack://ffs/./lib/core/KyofuucWS.js","webpack://ffs/./lib/helpers/browser_classes.js","webpack://ffs/./lib/helpers/defaults.js","webpack://ffs/./lib/kyofuuc.js","webpack://ffs/./lib/utils.js","webpack://ffs/webpack/bootstrap","webpack://ffs/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ffs\"] = factory();\n\telse\n\t\troot[\"ffs\"] = factory();\n})(this, () => {\nreturn ","\nmodule.exports = require('./lib/kyofuuc');\n","\n'use strict';\n\nconst utils = require(\"../utils\");\n\n// example 2 days = ((2) *24*60*60*1000)\nfunction ffCMSetCookie(cookiesImpl, name, value, expiryInMilliSeconds, options) {\n    let expires = \"\";\n    if (expiryInMilliSeconds) {\n        let date = new Date();\n        date.setTime(date.getTime() + (expiryInMilliSeconds));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    if (cookiesImpl) {\n        /*cookiesImpl.setItem(name, JSON.stringify({\n            name,\n            expires,\n            value,\n            path: \"/\"\n        }));*/\n        cookiesImpl.setItem(name, value);\n    } else {\n\t\tlet extraCookieOptions = \"\";\n\t\tif (options) {\n\t\t\tfor (let key in options) {\n\t\t\t\textraCookieOptions += `; ${key}`;\n\t\t\t\tif (options[key] !== true) {\n\t\t\t\t\textraCookieOptions += `=${options[key]}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n        document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\" + extraCookieOptions;\n    }\n}\n\nfunction ffCMGetCookie(cookiesImpl, name) {\n    let nameWithEQ = name + \"=\";\n    if (cookiesImpl) { return cookiesImpl.getItem(name) }\n    let ca = document.cookie.split(';');\n    for(let index = 0; index < ca.length; index++) {\n        let c = ca[index];\n        while (c.charAt(0)==' ') c = c.substring(1, c.length);\n        if (c.indexOf(nameWithEQ) == 0) return c.substring(nameWithEQ.length, c.length);\n    }\n    return null;\n}\n\nfunction ffCMInvalidateCookie(cookiesImpl, name) {   \n    if (cookiesImpl) {\n        cookiesImpl.removeItem(name);\n        return;\n    }\n    document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n}\n\n// expires in 24 hours by default, if it borswer cookie manager and not a custom implementation\n// the cookie Secure attribute is set to true if undefined\nfunction CookieFFSCacheManager(options) {\n    this.interceptorIds = [];\n\tthis.interceptor = undefined;\n    if (utils.isObject(options) && options.encryptor) {\n\t\tthis.encryptor = options.encryptor;\n\t\tthis.decryptor = options.decryptor;\n\t\tthis.cookiesImpl = options.bucket;\n        this.expiryInMilliSeconds = options.expiryInMilliSeconds || ((1) *24*60*60*1000); \n\t} else {\n\t\tthis.cookiesImpl = options;\n        this.expiryInMilliSeconds = ((1) *24*60*60*1000);\n\t}\n}\n\nCookieFFSCacheManager.prototype.registerInterceptors = function registerInterceptors(interceptor) {\n    if (!interceptor) return;\n\tconst instance = this;\n\tthis.interceptor = interceptor;\n    let cookiesImpl = this.cookiesImpl;\n    let expiryInMilliSeconds = this.expiryInMilliSeconds;\n    const preInterceptorId = interceptor.registerPreRequest(function cookieFFSCMPReqInterceptor(options, config) {\n        if (!config.cache) return;\n        const cachedValue = options.get.call(instance, config);\n\t\tif (cachedValue !== undefined) {\n\t\t\tif (config.refreshCache) {\n\t\t\t\tffCMInvalidateCookie(instance.cookiesImpl, config.key);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tFROM_FFS_CACHE_MANAGER_INTERCEPTOR: true,\n\t\t\t\tkey: config.key,\n\t\t\t\tvalue: cachedValue\n\t\t\t};\n\t\t}\n    }, {\n        decryptor: this.decryptor,\n\t\tget: this.get\n    });\n    this.interceptorIds.push(preInterceptorId);\n\n    const postInterceptorId = interceptor.registerPostResponse(function cookieFFSCMPResInterceptor(options, config, response) {\n        if (!config.cache) return;\n        if (response) {\n            options.set.call(instance, config, response);\n        }\n    }, {\n        encryptor: this.encryptor,\n\t\tset: this.set\n    });\n    this.interceptorIds.push(postInterceptorId);\n}\n\nCookieFFSCacheManager.prototype.unRegisterInterceptors = function unRegisterInterceptors(interceptor) {\n    for (let interceptorId of this.interceptorIds) {\n        interceptor.unRegister(interceptorId);\n    }\n}\n\nCookieFFSCacheManager.prototype.get = function getFromCFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tlet cachedValue = ffCMGetCookie(this.cookiesImpl, config.key);\n\tif (cachedValue === null || cachedValue === undefined) return cachedValue;\n\tcachedValue = (typeof this.encryptor === 'function') ? this.decryptor(cachedValue, config) : cachedValue;\n\tif (cachedValue !== undefined) {\n\t\treturn JSON.parse(cachedValue).value;\n\t}\n}\n\nCookieFFSCacheManager.prototype.set = function setForCFFSCM(config, value) {\n\tconfig.key = utils.buildCacheKey(config);\n\tvalue = JSON.safeStringify({ value });\n\tlet encryptedValue = (typeof this.encryptor === 'function') ? this.encryptor(value, config) : value;\n\tlet cacheOptions = config.cacheOptions || {};\n\tif (cacheOptions.Secure === undefined) cacheOptions.Secure = true;\n\tffCMSetCookie(this.cookiesImpl, config.key, encryptedValue, this.expiryInMilliSeconds, cacheOptions);\n}\n\nCookieFFSCacheManager.prototype.remove = function removeFromCFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tffCMInvalidateCookie(this.cookiesImpl, config.key);\n}\n\nmodule.exports = CookieFFSCacheManager;\n","\n'use strict';\n\nfunction KeyvRedisFFSCacheManager(interceptor) {\n}\n\nmodule.exports = KeyvRedisFFSCacheManager;\n","\n'use strict';\n\nconst utils = require(\"../utils\");\n\nfunction LocalStorageFFSCacheManager(options) {\n\tthis.interceptorIds = [];\n\tthis.interceptor = undefined;\n\tif (utils.isObject(options) && options.encryptor) {\n\t\tthis.encryptor = options.encryptor;\n\t\tthis.decryptor = options.decryptor;\n\t\tthis.localStorageImpl = options.bucket;\n\t} else {\n\t\tthis.localStorageImpl = options;\n\t}\n\tthis.localStorageImpl = this.localStorageImpl || localStorage;\n}\n\nLocalStorageFFSCacheManager.prototype.registerInterceptors = function registerInterceptors(interceptor) {\n\tif (!interceptor) return;\n\tconst instance = this;\n\tthis.interceptor = interceptor;\n\tconst localStorageImpl = this.localStorageImpl;\n\tconst preInterceptorId = interceptor.registerPreRequest(function lsFFSCMPReqInterceptor(options, config) {\n\t\tif (!config.cache) return;\n\t\tconst cachedValue = options.get.call(instance, config);\n\t\tif (cachedValue !== undefined) {\n\t\t\tif (config.refreshCache) {\n\t\t\t\tlocalStorageImpl.removeItem(config.key);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tFROM_FFS_CACHE_MANAGER_INTERCEPTOR: true,\n\t\t\t\tkey: config.key,\n\t\t\t\tvalue: cachedValue\n\t\t\t};\n\t\t}\n\t}, {\n\t\tdecryptor: this.decryptor,\n\t\tget: this.get\n\t});\n\tthis.interceptorIds.push(preInterceptorId);\n\n\tconst postInterceptorId = interceptor.registerPostResponse(function lsFFSCMPResInterceptor(options, config, response) {\n\t\tif (!config.cache) return;\n\t\tif (response) {\n\t\t\toptions.set.call(instance, config, response);\n\t\t}\n\t}, {\n\t\tencryptor: this.encryptor,\n\t\tset: this.set\n\t});\n\tthis.interceptorIds.push(postInterceptorId);\n}\n\nLocalStorageFFSCacheManager.prototype.unRegisterInterceptors = function unRegisterInterceptors(interceptor) {\n\tfor (let interceptorId of this.interceptorIds) {\n\t\tinterceptor.unRegister(interceptorId);\n\t}\n}\n\nLocalStorageFFSCacheManager.prototype.get = function getFromLSFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tlet cachedValue = this.localStorageImpl.getItem(config.key);\n\tif (cachedValue === null || cachedValue === undefined) return cachedValue;\n\tcachedValue = (typeof this.encryptor === 'function') ? this.decryptor(cachedValue, config) : cachedValue;\n\tif (cachedValue !== undefined) {\n\t\treturn JSON.parse(cachedValue).value;\n\t}\n}\n\nLocalStorageFFSCacheManager.prototype.set = function setForLSFFSCM(config, value) {\n\tconfig.key = utils.buildCacheKey(config);\n\tvalue = JSON.safeStringify({ value });\n\tlet encryptedValue = (typeof this.encryptor === 'function') ? this.encryptor(value, config) : value;\n\tthis.localStorageImpl.setItem(config.key, encryptedValue);\n}\n\nLocalStorageFFSCacheManager.prototype.remove = function removeFromLSFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tthis.localStorageImpl.removeItem(config.key);\n}\n\nmodule.exports = LocalStorageFFSCacheManager;\n","\n'use strict';\n\nconst utils = require(\"../utils\");\n\nfunction MapFFSCacheManager(options) {\n\tthis.interceptor = undefined;\n\tthis.interceptorIds = [];\n\tif (utils.isObject(options) && options.bucket) {\n\t\tthis.bucket = options.bucket;\n\t} else {\n\t\tthis.bucket = options || {};\n\t}\n}\n\nMapFFSCacheManager.prototype.registerInterceptors = function registerInterceptors(interceptor) {\n\tif (!interceptor) return;\n\tconst instance = this;\n\tthis.interceptor = interceptor;\n\tconst preInterceptorId = interceptor.registerPreRequest(function mFFSCMPReqInterceptor(options, config) {\n\t\tif (!config.cache) return;\n\t\tconst cachedValue = options.get.call(instance, config)\n\t\tif (cachedValue !== undefined) {\n\t\t\tif (config.refreshCache) {\n\t\t\t\tdelete options.bucket[config.key];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tFROM_FFS_CACHE_MANAGER_INTERCEPTOR: true,\n\t\t\t\tkey: config.key,\n\t\t\t\tvalue: cachedValue\n\t\t\t};\n\t\t}\n\t}, {\n\t\tbucket: this.bucket,\n\t\tget: this.get\n\t});\n\tthis.interceptorIds.push(preInterceptorId);\n\t\n\tconst postInterceptorId = interceptor.registerPostResponse(function mFFSCMPResInterceptor(options, config, response) {\n\t\tif (!config.cache) return;\n\t\tif (response) {\n\t\t\toptions.set.call(instance, config, response);\n\t\t}\n\t}, {\n\t\tbucket: this.bucket,\n\t\tset: this.set\n\t});\n\tthis.interceptorIds.push(postInterceptorId);\n}\n\nMapFFSCacheManager.prototype.unRegisterInterceptors = function unRegisterInterceptors(interceptor) {\n\tfor (let interceptorId of this.interceptorIds) {\n\t\tinterceptor.unRegister(interceptorId);\n\t}\n}\n\nMapFFSCacheManager.prototype.get = function getFromMFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tconst cachedValue = this.bucket[config.key];\n\tif (cachedValue !== undefined) {\n\t\treturn JSON.parse(cachedValue).value;\n\t}\n}\n\nMapFFSCacheManager.prototype.set = function setForMFFSCM(config, value) {\n\tconfig.key = utils.buildCacheKey(config);\n\tthis.bucket[config.key] = JSON.safeStringify({\n\t\tvalue\n\t});\n}\n\nMapFFSCacheManager.prototype.remove = function removeFromMFFSCM(config) {\n\tconfig.key = utils.buildCacheKey(config);\n\tdelete this.bucket[config.key];\n}\n\nmodule.exports = MapFFSCacheManager;\n","\n'use strict';\n\nconst utils = require(\"../utils\");\nconst LocalStorageFFSCacheManager = require('./LocalStorageFFSCacheManager');\n\nfunction SessionStorageFFSCacheManager(options) {\n\tlet forwardOptions = {};\n\tif (utils.isObject(options) && forwardOptions.encryptor) {\n\t\tforwardOptions.encryptor = options.encryptor;\n\t\tforwardOptions.decryptor = options.decryptor;\n\t\tforwardOptions.bucket = options.bucket;\n\t} else {\n\t\tforwardOptions.bucket = options;\n\t}\n\tforwardOptions.bucket = forwardOptions.bucket || sessionStorage;\n\treturn new LocalStorageFFSCacheManager(options);\n}\n\nmodule.exports = SessionStorageFFSCacheManager;\n","\nmodule.exports = {\n\tMapFFSCacheManager: require(\"./MapFFSCacheManager\"),\n\tCookieFFSCacheManager: require(\"./CookieFFSCacheManager\"),\n\t//KonfigerFFSCacheManager: require(\"./KonfigerFFSCacheManager\"),\n\tKeyvRedisFFSCacheManager: require(\"./KeyvRedisFFSCacheManager\"),\n\tLocalStorageFFSCacheManager: require(\"./LocalStorageFFSCacheManager\"),\n\tSessionStorageFFSCacheManager: require(\"./SessionStorageFFSCacheManager\"),\n};\n","\n'use strict';\n\nconst utils = require('../../utils');\nconst KFXMLHttpRequest = require(\"../../helpers/node_classes\").XMLHttpRequest;\n\nfunction xhrConnector(config, httpInterceptor) {\n\treturn new Promise(function makeRequest(resolvePromise, rejectPromise) {\n\t\tlet reqData = config.data || null;\n\t\tlet reqHeaders = config.headers || {};\n\t\tlet headerNames = Object.keys(reqHeaders).reduce((acc, header) => {\n\t\t\tacc[header.toLowerCase()] = header;\n\t\t\treturn acc;\n\t\t}, {});\n\t\tlet responseType = config.responseType;\n\t\thttpInterceptor = httpInterceptor || (config.cache && config.cache.interceptor\n\t\t\t? config.cache.interceptor \n\t\t\t: httpInterceptor);\n\n\t\tif (utils.isFormData(reqData) && headerNames['content-type']) {\n\t\t\tdelete reqHeaders['content-type'];\n\t\t} else if ((utils.isPlainObject(reqData) || utils.isObject(reqData) || utils.isArray(reqData)) && !headerNames['content-type']) {\n\t\t\treqHeaders['Content-Type'] = \"application/json\";\n\t\t}\n\t\tconst preRequestResults = utils\n\t\t\t.invokeForEachInterceptorType(httpInterceptor, \"HTTP_PRE_REQUEST\", config)\n\t\t\t.filter(preRequestResult => preRequestResult.FROM_FFS_CACHE_MANAGER_INTERCEPTOR === true);\n\t\tif (preRequestResults.length > 0 && !config.refreshCache) {\n\t\t\tpreRequestResults[0].value.isFromCache = true;\n\t\t\tresolvePromise(preRequestResults[0].value);\n\t\t\treturn;\n\t\t}\n\t\tlet req = new KFXMLHttpRequest();\n\t\tif (config.auth) {\n\t\t\tlet username = config.auth.username || '';\n\t\t\tlet password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n\t\t\treqHeaders.Authorization = 'Basic ' + utils.toBase64(username + ':' + password);\n\t\t}\n\t\tlet fullPath = utils.buildFullURLPath(config.baseURL, config.url);\n    \treq.open((config.method || \"get\").toUpperCase(), utils.buildURL(fullPath, config.params, config.paramsSerializer), true);\n\t\t\n\t\tfunction onloadend() {\n\t\t\tif (!req) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet responseHeaders = 'getAllResponseHeaders' in req ? utils.parseHeaders(req.getAllResponseHeaders()) : null;\n\t\t\tlet responseData = !responseType || responseType === 'text' ||  responseType === 'json' \n\t\t\t\t? req.responseText \n\t\t\t\t: req.response;\n\t\t\tlet response = {\n\t\t\t\tstatus: req.status,\n\t\t\t\tstatusText: req.statusText,\n\t\t\t\theaders: responseHeaders,\n\t\t\t\tconfig: config,\n\t\t\t\trequest: req,\n\t\t\t\tisFromCache: false\n\t\t\t};\n\t\t\tutils.invokeForEachInterceptorType(httpInterceptor, \"HTTP_PRE_RESPONSE\", config, response);\n\t\t\tresponse.body = responseData;\n\t\t\tif (req.status != 204 && config.responseType && config.responseType.toLowerCase().indexOf(\"json\") != -1) {\n\t\t\t\ttry {\n\t\t\t\t\tresponse.data = JSON.parse(response.body);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tresponse.data = response.body;\n\t\t\t\t\trejectPromise(utils.kyofuucError(\n\t\t\t\t\t\t'error trying to parse response body to data JSON',\n\t\t\t\t\t\tconfig,\n\t\t\t\t\t\tutils.ERROR_CODES.ERR_PROCESSING_BODY_AS_JSON_DATA,\n\t\t\t\t\t\tresponse.request,\n\t\t\t\t\t\tresponse\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresponse.data = response.body;\n\t\t\t}\n\t\t\tutils.invokeForEachInterceptorType(httpInterceptor, \"HTTP_POST_RESPONSE\", config, response);\n\t\t\tutils.resolveResponse(response, resolvePromise, rejectPromise);\n\t\t\treq = null;\n\t\t}\n\t\tif ('onloadend' in req) {\n\t\t\treq.onloadend = onloadend;\n\t\t} else {\n\t\t\treq.onreadystatechange = function handleLoad() {\n\t\t\t\tif (!req || req.readyState !== 4) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (req.status === 0 && !(req.responseURL && req.responseURL.indexOf('file:') === 0)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetTimeout(onloadend);\n\t\t\t};\n\t\t}\n\t\treq.onerror = function handleError() {\n\t\t\tif (config.retry) {\n\t\t\t\tconfig.putInRetryQueue(config);\n\t\t\t\tlet response = {\n\t\t\t\t\tstatus: 109,\n\t\t\t\t\tstatusText: \"Awaiting Retry\",\n\t\t\t\t\theaders: [],\n\t\t\t\t\tconfig: config,\n\t\t\t\t\trequest: req,\n\t\t\t\t\tisFromCache: false\n\t\t\t\t};\n\t\t\t\tutils.resolveResponse(response, resolvePromise, rejectPromise);\n\t\t\t\treturn;\n\t\t\t};\n\t\t\trejectPromise(utils.kyofuucError(\n\t\t\t\t'Network error',\n\t\t\t\tconfig,\n\t\t\t\tutils.ERROR_CODES.NETWORK_ERROR,\n\t\t\t\treq\n\t\t\t));\n\t\t\treq = null;\n\t\t};\n\t\treq.onabort = function handleAbort() {\n\t\t\tif (!req) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trejectPromise(utils.kyofuucError(\n\t\t\t\t'error request aborted',\n\t\t\t\tconfig,\n\t\t\t\tutils.ERROR_CODES.REQUEST_ABORTED,\n\t\t\t\treq\n\t\t\t));\n\t\t\treq = null;\n\t\t};\n\t\treq.ontimeout = function handleTimeout() {\n\t\t\tlet timeoutErrorMessage = config.timeout \n\t\t\t\t? 'timeout of ' + config.timeout + 'ms exceeded' \n\t\t\t\t: 'timeout exceeded';\n\t\t\tif (config.timeoutErrorMessage) {\n\t\t\t\ttimeoutErrorMessage = config.timeoutErrorMessage;\n\t\t\t}\n\t\t\trejectPromise(utils.kyofuucError(\n\t\t\t\ttimeoutErrorMessage,\n\t\t\t\tconfig,\n\t\t\t\tutils.ERROR_CODES.TIMEOUT_ERROR,\n\t\t\t\treq\n\t\t\t));\n\t\t\treq = null;\n\t\t};\n\t\tif ('setRequestHeader' in req) {\n\t\t\tutils.forEach(reqHeaders, function setRequestHeader(val, key) {\n\t\t\t\tif (typeof reqData === 'undefined' && key.toLowerCase() === 'content-type') {\n\t\t\t\t\tdelete reqHeaders[key];\n\t\t\t\t} else {\n\t\t\t\t\treq.setRequestHeader(key, val);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (utils.envIsStandardBrowser()) {\n\t\t\tlet xsrfValue = (config.withCredentials || utils.isURLSameOrigin(fullPath)) && config.xsrfCookieName \n\t\t\t\t? cookies.read(config.xsrfCookieName) \n\t\t\t\t: undefined;\t\t\n\t\t\tif (xsrfValue) {\n\t\t\t\treqHeaders[config.xsrfHeaderName] = xsrfValue;\n\t\t\t}\n\t\t}\n\t\tif (!utils.isUndefined(config.withCredentials)) {\n\t\t\treq.withCredentials = !!config.withCredentials;\n\t\t}\n\t\tif (responseType && !(responseType.toLowerCase().indexOf(\"json\") != -1)) {\n\t\t\treq.responseType = config.responseType;\n\t\t}\n\t\tif (typeof config.onDownloadProgress === 'function') {\n\t\t\treq.addEventListener('progress', config.onDownloadProgress);\n\t\t}\n\t\tif (typeof config.onUploadProgress === 'function' && req.upload) {\n\t\t\treq.upload.addEventListener('progress', config.onUploadProgress);\n\t\t}\n\t\treq.send(JSON.stringify(reqData));\n\t\tutils.invokeForEachInterceptorType(httpInterceptor, \"HTTP_POST_REQUEST\", config);\n\t});\n}\n\nmodule.exports = xhrConnector;\n","\nconst wsConnector = require('./ws/wsConnector');\nconst xhrConnector = require('./http/xhrConnector');\nconst httpConnector = require('./http/httpConnector');\n\nmodule.exports = {\n\twsConnector,\n\txhrConnector,\n\thttpConnector\n};\n","\n'use strict';\n\nconst utils = require('../../utils');\nconst KFWebSocket = require(\"../../helpers/node_classes\").WebSocket;\n\nfunction wsConnector(config, wsInterceptor) {\n\tconst fullPath = utils.buildFullURLPath(config.baseURL, config.url);\n\tconst absoluteUrl = utils.buildURL(fullPath, config.params, config.paramsSerializer);\n\tconst socket = new KFWebSocket(absoluteUrl, config.protocol);\n\n\tsocket.addEventListener('close', (e) => utils.invokeForEachInterceptorType(wsInterceptor, \"WS_CLOSE\", config, e));\n\tsocket.addEventListener('error', (e) => utils.invokeForEachInterceptorType(wsInterceptor, \"WS_ERROR\", config, e));\n\tsocket.addEventListener('message', (e) => utils.invokeForEachInterceptorType(wsInterceptor, \"WS_MESSAGE\", config, e));\n\tsocket.addEventListener('open', (e) => utils.invokeForEachInterceptorType(wsInterceptor, \"WS_OPEN\", config, e));\n\tsocket.implname = \"wsConnector\";\n\n\treturn socket;\n}\n\nmodule.exports = wsConnector;\n","\n'use strict';\n\nconst utils = require('../utils');\n\nfunction FuInterceptor() {\n\tthis.handlers = [];\n}\n\nFuInterceptor.prototype.register = function register(type, cb, options) {\n\tthis.handlers.push({\n\t\ttype,\n\t\tcb,\n\t\toptions\n\t});\n\treturn this.handlers.length-1;\n}\n\nFuInterceptor.prototype.unRegister = function unRegister(id) {\n\tif (this.handlers[id]) {\n\t\tthis.handlers[id] = null;\n\t}\n}\n\nFuInterceptor.prototype.filter = function filter(cond, thisArg) {\n\treturn this.handlers.filter(cond, thisArg);\n}\n\nFuInterceptor.prototype.forEach = function forEach(cb, type) {\n\tutils.forEach(this.handlers, function handlerLoop(handler) {\n\t\tif (handler !== null && (!type || handler.type === type)) {\n\t\t\tcb(handler);\n\t\t}\n\t});\n}\n\n// HTTP_PRE_REQUEST\n// HTTP_POST_REQUEST\n// HTTP_PRE_RESPONSE\n// HTTP_POST_RESPONSE\nutils.forEach(['PreRequest', 'PostRequest', 'PreResponse', 'PostResponse'], function forEachHttpLevel(level) {\n\tFuInterceptor.prototype[`register${level}`] = function (cb, options) {\n\t\tlet type = level.split(\"Re\");\n\t\ttype = `HTTP_${type[0]}_RE${type[1]}`.toUpperCase();\n\t\treturn this.register(type, cb, options);\n\t}\n});\n\n// WS_CLOSE\n// WS_ERROR\n// WS_MESSAGE\n// WS_OPEN\nutils.forEach([ 'Close', 'Error', 'Message', 'Open' , 'StateChange' ], function forEachWSEvent(event) {\n\tFuInterceptor.prototype[`registerOnWS${event}`] = function (cb, options) {\n\t\treturn this.register(`WS_${event.toUpperCase()}`, cb, options);\n\t}\n});\n\nmodule.exports = FuInterceptor;\n","\n'use strict';\n\nconst utils = require('../utils');\nconst FuInterceptor = require('./FuInterceptor');\nconst KyofuucHttp = require('./KyofuucHttp');\nconst defaultRetryCache = utils.presentElseImport(typeof localStorage, \n\t() => new (require('../cachemanagers/LocalStorageFFSCacheManager'))(null, null), \n\t() => new (require('../cachemanagers/MapFFSCacheManager'))());\n\n// This uses the stack data structure not queue, LIFO\nfunction FuQueueManager(cache) {\n    this._cache = cache || defaultRetryCache;\n    this._interceptor = this._cache.interceptor || new FuInterceptor();\n    this._entriesCount = this._cache.get({ key: \"FUQUEUEMANAGER_ENTRIES_COUNT\" }) || 0;\n}\n\nFuQueueManager.prototype.push = function push(object, type) {\n    if (object === undefined) return;\n    if (type && utils.isObject(object)) object.type = type;\n    this._cache.set({\n        key: `FUQUEUEMANAGER_ENTRY_${++this._entriesCount}`\n    }, object);\n    this._cache.set({ key: `FUQUEUEMANAGER_ENTRIES_COUNT` }, this._entriesCount);\n    utils.forEach(utils.getGlobalEvent(utils.GLOBAL_EVENT_NAMES.EVENT_QUEUED), (cb) => cb(object.type, object));\n}\n\nFuQueueManager.prototype.pop = function pop() {\n\tif (this._entriesCount === 0) this._entriesCount = this._cache.get({ key: \"FUQUEUEMANAGER_ENTRIES_COUNT\" }) || 0;\n    if (!this._entriesCount) return;\n    const entryKey = `FUQUEUEMANAGER_ENTRY_${this._entriesCount}`;\n    const data = this._cache.get({ key: entryKey });\n    this._cache.remove({ key: entryKey });\n    this._entriesCount--;\n    if (!this._entriesCount) {\n        this._cache.remove({ key: `FUQUEUEMANAGER_ENTRIES_COUNT` });\n    } else {\n        this._cache.set({ key: `FUQUEUEMANAGER_ENTRIES_COUNT` }, this._entriesCount);\n    }\n    return data;\n}\n\n// use global registered rebuilder function\n// also use te defaults in ffs objects itself if resolvers not present\nfunction rebuildRetryObject(config, ffs) {\n    // if global resolver available, use instewad and return\n    if (config._cacheName !== \"\") {\n        config.cache = ffs.rebuildRetryObjectCache ? ffs.rebuildRetryObjectCache(config) : null;\n        if (!config.cache) {\n            switch (config._cacheName) {\n                case \"MapFFSCacheManager\":\n                    config.cache = new ffs.cachemanagers.MapFFSCacheManager();\n                    break;\n            }\n        }\n    }\n    return config;\n}\n\nFuQueueManager.prototype.retry = function retry(type, ffs) {\n    let entry;\n    while ((entry = this.pop())) {\n        if (entry.type !== type) continue;\n        if (type === FuQueueManager.TYPE.HTTP_REQUEST) {\n            (new ffs.KyofuucHttp()).request(rebuildRetryObject(entry.config, ffs))\n            .then(response => {\n                if (response.status != 109) {\n                    utils.forEach(utils.getGlobalEvent(utils.GLOBAL_EVENT_NAMES.RETRY_SUCCESS), (cb) => cb(type, response));\n                }\n            }).catch(error => {\n                utils.forEach(utils.getGlobalEvent(utils.GLOBAL_EVENT_NAMES.RETRY_FAILED), (cb) => cb(type, response));\n            });\n        }\n    }\n}\n\nFuQueueManager.TYPE = {\n    HTTP_REQUEST: \"KYOFUUC_HTTP_REQUEST\"\n}\n\nmodule.exports = FuQueueManager;\n","\n'use strict';\n\nconst utils = require('../utils');\nconst defaults = require('../helpers/defaults');\nconst FuInterceptor = require('./FuInterceptor');\nconst FuQueueManager = require('./FuQueueManager');\n\nfunction KyofuucHttp(httpBaseConfig) {\n\tthis.httpBaseConfig = httpBaseConfig || {};\n\tthis.httpInterceptor = this.httpBaseConfig.interceptor || new FuInterceptor();\n\tif (this.httpBaseConfig.cache && typeof this.httpBaseConfig.cache.registerInterceptors === 'function') {\n\t\tthis.httpBaseConfig.cache.registerInterceptors(this.httpInterceptor);\n\t}\n}\n\nfunction putInRetryQueue(config) {\n\tconst fuQueueManager = config.fuQueueManager || new FuQueueManager();\n\tconfig._retryCount = !utils.isNumber(config._retryCount) ? 1 : ++config._retryCount;\n\tif (!utils.isNumber(config.maxRetry)) {\n\t\tconfig.maxRetry = defaults.maxReconnectOrRetry;\n\t}\n\tif (config._retryCount > config.maxRetry) {\n\t\tutils.forEach(utils.getGlobalEvent(utils.GLOBAL_EVENT_NAMES.RETRY_MAXED_OUT), (cb) => cb(config));\n\t\treturn;\n\t}\n\tconfig._cacheName = config.cache ? config.cache.constructor.name : \"\";\n\tfuQueueManager.push({\n\t\ttype: \"KYOFUUC_HTTP_REQUEST\",\n\t\tconfig\n\t});\n}\n\nKyofuucHttp.prototype.request = function request(urlOrConfig, config) {\n\tif (typeof urlOrConfig === 'string') {\n\t\tconfig = config || {};\n\t\tconfig.url = urlOrConfig;\n\t} else {\n\t\tconfig = urlOrConfig || {};\n\t}\n\tlet tempCache = config.cache;\n\tconfig = utils.mergeObject(config, this.httpBaseConfig);\n\n\tif (tempCache && tempCache.interceptorIds.length === 0) {\n\t\ttempCache.registerInterceptors(this.httpInterceptor);\n\t}\n\tif (config.retry) {\n\t\tconfig.putInRetryQueue = putInRetryQueue;\n\t}\n\n\tlet promise;\n\tconst connector = (config.connector || defaults.getDefaultHttpConnector());\n\tpromise = connector(config, this.httpInterceptor);\n\tif (tempCache && tempCache.interceptorIds.length > 0) {\n\t\ttempCache.unRegisterInterceptors(this.httpInterceptor);\n\t}\n\treturn promise;\n}\n\nKyofuucHttp.prototype.getUrl = function getUrl(config) {\n\tif (!config.url) {\n\t\tthrow new Error(\"Invalid config url provider\");\n\t}\n\tconfig = utils.mergeObject(config, this.httpBaseConfig);\n\treturn utils.buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoPayload(method) {\n\tKyofuucHttp.prototype[method] = function (url, config) {\n\t\treturn this.request(utils.mergeObject(config, {\n\t\t\tmethod,\n\t\t\turl,\n\t\t\tdata: (config || {}).data\n\t\t}));\n\t}\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithPayload(method) {\n\tKyofuucHttp.prototype[method] = function (url, data, config) {\n\t\tif (!config) config = {};\n\t\tif (!config.headers) config.headers = {};\n\t\tif (!config.headers[\"accept\"] && !config.headers[\"Accept\"] && !config.headers[\"ACCEPT\"]) {\n\t\t\tconfig.headers[\"Accept\"] = \"application/json, text/plain, */*\";\n\t\t}\n\t\treturn this.request(utils.mergeObject(config, {\n\t\t\tmethod,\n\t\t\turl,\n\t\t\tdata\n\t\t}));\n\t}\n});\n\nmodule.exports = KyofuucHttp;\n\n","\n'use strict';\n\nconst utils = require('../utils');\nconst defaults = require('../helpers/defaults');\nconst FuInterceptor = require('./FuInterceptor');\n\nfunction KyofuucWS(wsConfig) {\n\tthis.state = 0;\n\tthis.protocol = \"\";\n\tthis._reconnectionCount = 0;\n\tthis._nextReconnectionDelay = 0;\n\tthis.lastReconnectionCount = 0;\n\tthis.wsConfig = wsConfig || {};\n\tthis.interceptor = this.wsConfig.interceptor || new FuInterceptor();\n\tthis.eventHooks = {\n\t\t\"onOpen\": [],\n\t\t\"onClose\": [],\n\t\t\"onError\": [],\n\t\t\"onMessage\": [],\n\t\t\"onStateChange\": []\n\t};\n}\n\nKyofuucWS.prototype.reconnect = function reconnect(connector) {\n\tif (this.state != 2 && this.state != 3) {\n\t\tthis.close();\n\t}\n\tif (!connector) connector = (this.wsConfig.connector || defaults.getDefaultWSConnector());\n\tthis.state = 4;\n\tutils.forEach(this.eventHooks.onStateChange, (cb) => cb(this, this.state));\n\tthis.connection = connector(this.wsConfig, this.interceptor);\n}\n\nKyofuucWS.prototype.ws = function ws(urlOrConfig, config) {\n\tconst instance = utils.mergeClasses(new KyofuucWS(), this);\n\tif (typeof urlOrConfig === 'string') {\n\t\tconfig = config || {};\n\t\tconfig.url = urlOrConfig;\n\t} else {\n\t\tconfig = urlOrConfig || {};\n\t}\n\tinstance.wsConfig = utils.mergeObject(config, instance.wsConfig);\n\tconfig = instance.wsConfig;\n\tconst connector = (config.connector || defaults.getDefaultWSConnector());\n\n\t// onStateChange event, not neede\n\t/*instance.interceptor.registerOnWSStateChange((options, config, state) => {\n\t\tutils.forEach(instance.eventHooks.onStateChange, (cb) => cb(instance, state));\n\t}, { instance });*/\n\n\t// onError event\n\tinstance.interceptor.registerOnWSError((options, config, event) => {\n\t\tutils.forEach(instance.eventHooks.onError, (cb) => cb(instance, event));\n\t}, { instance });\n\n\t// onClose event\n\tinstance.interceptor.registerOnWSClose((options, config, event) => {\n\t\tif (instance.state !== 2 && instance.wsConfig.reconnect === true) {\n\t\t\tif (instance.lastReconnectionCount < instance.wsConfig.maxReconnect) {\n\t\t\t\tinstance._reconnectionCount++;\n\t\t\t\tinstance.lastReconnectionCount++;\n\t\t\t\tinstance._nextReconnectionDelay = instance.wsConfig.reconnectIntervalByPower \n\t\t\t\t\t? Math.pow(instance.wsConfig.reconnectInterval, instance._reconnectionCount)\n\t\t\t\t\t: instance.wsConfig.reconnectInterval;\n\t\t\t\tsetTimeout(instance.reconnect.bind(instance, connector), instance._nextReconnectionDelay * 1000);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tinstance.state = event.target.readyState;\n\t\tutils.forEach(instance.eventHooks.onStateChange, (cb) => cb(instance, instance.state));\n\t\tutils.forEach(instance.eventHooks.onClose, (cb) => cb(instance, event));\n\t}, { instance });\n\n\t// onOpen event\n\tinstance.interceptor.registerOnWSOpen((options, config, event) => {\n\t\tinstance._reconnectionCount = 0;\n\t\tinstance._nextReconnectionDelay = 0;\n\t\tif (instance.connection && instance.connection.implname === \"wsConnector\") {\n\t\t\tinstance.state = event.target.readyState;\n\t\t\tutils.forEach(instance.eventHooks.onStateChange, (cb) => cb(instance, instance.state));\n\t\t\tinstance.protocol = instance.connection.protocol;\n\t\t\tinstance.extensions = instance.connection.extensions;\n\t\t}\n\t\tutils.forEach(instance.eventHooks.onOpen, (cb) => cb(instance, event));\n\t}, { instance: instance });\n\n\t// onMessage event\n\tinstance.interceptor.registerOnWSMessage((options, config, event) => {\n\t\tlet data;\n\t\tlet sanitizedData;\n\t\tlet cachedState = instance.state;\n\t\tlet implName = instance.connectionImplName;\n\n\t\tinstance.state = 6;\n\t\tutils.forEach(instance.eventHooks.onStateChange, (cb) => cb(instance, instance.state));\n\t\tif (implName === \"wsConnector\") {\n\t\t\tdata = event.data;\n\t\t}\n\t\tswitch (instance.protocol.toLowerCase()) {\n\t\t\tcase \"json\":\n\t\t\t\tsanitizedData = JSON.parse(data);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsanitizedData = data;\n\t\t\t\tbreak;\n\t\t}\n\t\t//instance.state = cachedState; // test cached state\n\t\tinstance.state = 1;\n\t\tutils.forEach(instance.eventHooks.onMessage, (cb) => cb(instance, event, sanitizedData));\n\t}, { instance });\n\tinstance.connection = connector(config, instance.interceptor);\n\tinstance.connectionImplName = instance.connection.implname;\n\n\treturn instance;\n};\n\nKyofuucWS.prototype.connection = function connection() {\n\treturn this.connection;\n};\n\nKyofuucWS.prototype.close = function close() {\n\tthis.state = 2;\n\tthis.connection && this.connection.close();\n};\n\nKyofuucWS.prototype.sendMessage = function sendMessage(message) {\n\tif (!this.connection) return;\n\n\tthis.state = 5;\n\t//console.log(\"PROTOCOL\", this.protocol)\n\tif (utils.isObject(message) && this.protocol.toLowerCase() === \"json\") {\n\t\tmessage = JSON.safeStringify(message);\n\t} else {\n\t\t//message = String(message);\n\t}\n\tthis.connection.send(message);\n\tthis.state = 1;\n};\n\nKyofuucWS.prototype.getBufferedAmount = function getBufferedAmount() {\n\tif (!this.connection) return;\n\tif (this.connectionImplName === \"wsConnector\") {\n\t\treturn this.connection.bufferedAmount;\n\t}\n};\n\nKyofuucWS.prototype.getUrl = function getUrl(config) {\n\tconfig = config || this.wsConfig;\n\tif (!config.url) {\n\t\tthrow new Error(\"Invalid config url provider\");\n\t}\n\tconfig = utils.mergeObject(config, this.httpBaseConfig);\n\treturn utils.buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\nKyofuucWS.prototype.getBinaryType = function getBinaryType() {\n\tif (!this.connection) return;\n\tif (this.connectionImplName === \"wsConnector\") {\n\t\treturn this.connection.binaryType;\n\t}\n};\n\nKyofuucWS.prototype.setBinaryType = function setBinaryType(type) {\n\tif (!this.connection) return;\n\tif (this.connectionImplName === \"wsConnector\") {\n\t\tthis.connection.binaryType = type;\n\t}\n};\n\nutils.forEach([ \"onOpen\", \"onMessage\", \"onClose\", \"onError\", \"onStateChange\" ], function forEachWSEvent(event) {\n\tKyofuucWS.prototype[event] = function (eventHook) {\n\t\tthis.eventHooks[event].push(eventHook);\n\t}\n});\n\nKyofuucWS.STATE = {\n\tCONNECTING: 0,\n\tCONNECTED: 1,\n\tREADY: 1,\n\tDISCONNECTING: 2,\n\tDISCONNECTED: 3,\n\tRECONNECTING: 4,\n\tPROCESSIMG_OUTGOING_MESSAGE: 5,\n\tPROCESSIMG_INCOMMING_MESSAGE: 6,\n};\n\nmodule.exports = KyofuucWS;\n","\r\n\r\nmodule.exports = {\r\n    WebSocket,\r\n    http: null,\r\n    https: null,\r\n    XMLHttpRequest,\r\n};\r\n\r\n","\n'use strict';\n\nconst utils = require('../utils');\nconst classes = require('../helpers/node_classes');\n//const FuQueueManager = require('../core/FuQueueManager');\n\nconst maxReconnectOrRetry = 99999;\n\nfunction getDefaultHttpConnector() {\n\tlet connector;\n\tif (typeof XMLHttpRequest !== 'undefined') { \n\t\tconnector = require('../connectors/http/xhrConnector');\n\t} else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n\t\tconnector = require('../connectors/http/httpConnector');\n\t}\n\treturn connector;\n}\n\nfunction getDefaultWSConnector() {\n\tlet connector = require('../connectors/ws/wsConnector');\n\treturn connector;\n}\n\nfunction getHttpAgent() {\n\tif (utils.envIsNodeJs() && classes.http) {\n\t\treturn {\n\t\t\thttpAgent: new classes.http.Agent({ keepAlive: true }),\n\t\t\thttpsAgent: new classes.https.Agent({ keepAlive: true }),\n\t\t};\n\t}\n\treturn {};\n}\n\nconst httpConfig = {\n\tconnector: getDefaultHttpConnector(),\n\ttimeout: 0,\n\txsrfCookieName: 'XSRF-TOKEN',\n\txsrfHeaderName: 'X-XSRF-TOKEN',\n\tmaxContentLength: -1,\n\tmaxBodyLength: -1,\n\tmaxRedirects: 5,\n\ttimeout: 5000,\n\tresponseType: \"json\",\n\tvalidateStatus: function validateStatus(status) {\n\t\treturn status >= 200 && status < 300;\n\t},\n\theaders: {\n\t\t'Accept': 'application/json, text/plain, */*'\n\t},\n\tretry: false,\n\tmaxRetry: maxReconnectOrRetry,\n\tonRetryCompleted: null,\n\t...getHttpAgent()\n};\n\nconst wsConfig = {\n\tconnector: getDefaultWSConnector(),\n\tprotocol: [],\n\treconnect: false,\n\tmaxReconnect: maxReconnectOrRetry,\n\treconnectInterval: -1,\n\treconnectIntervalByPower: false\n};\n\n//const fuQueueManager = new FuQueueManager();\n\nmodule.exports = {\n\twsConfig,\n\thttpConfig,\n\tgetHttpAgent,\n\t//fuQueueManager,\n\tmaxReconnectOrRetry,\n\tgetDefaultWSConnector,\n\tgetDefaultHttpConnector\n}\n","\nconst KyofuucHttp = require('./core/KyofuucHttp');\nconst KyofuucWS = require('./core/KyofuucWS');\nconst FuInterceptor = require('./core/FuInterceptor');\nconst FuQueueManager = require('./core/FuQueueManager');\nconst connectors = require('./connectors/index');\nconst cachemanagers = require('./cachemanagers/index');\nconst defaults = require(\"./helpers/defaults\");\nconst utils = require(\"./utils\");\n\nfunction init(config) {\n\tconst queueManager = (config || {}).fuQueueManager || new FuQueueManager();\n\tif (config && config.httpConfig && !config.httpConfig.fuQueueManager) config.httpConfig.fuQueueManager = queueManager;\n\tconst httpConfig = ((config.httpConfig || config) || defaults.httpConfig);\n\tconst wsConfig = ((config.wsConfig || config) || defaults.wsConfig);\n\n\tif (!httpConfig.responseType) httpConfig.responseType = defaults.httpConfig.responseType;\n\tif (!httpConfig.validateStatus) httpConfig.validateStatus = defaults.httpConfig.validateStatus;\n\n\tconst kfHTTP = new KyofuucHttp(httpConfig);\n\tconst kfWS = new KyofuucWS(wsConfig);\n\tkfHTTP.kfWS = kfWS;\n\tkfHTTP.queueManager = queueManager;\n\tkfHTTP.ws = (p1, p2) => kfHTTP.kfWS.ws(p1, p2);\n\treturn kfHTTP;\n\t//return utils.mergeClasses(kfHTTP, kfWS);\n}\n\nfunction retryHttpRequests(queueManager, ffs) {\n\tif (!queueManager) return;\n\tqueueManager.retry(\"KYOFUUC_HTTP_REQUEST\", ffs);\n}\n\nconst ffs = init(defaults.httpConfig);\n\n// add the core classes \nffs.KyofuucWS = KyofuucWS;\nffs.KyofuucHttp = KyofuucHttp;\nffs.FuInterceptor = FuInterceptor;\n\n// add defaults\nffs.defaults = defaults;\n\n// add the utils \nffs.utils = utils;\nffs.init = init;\nffs.retryHttpRequests = retryHttpRequests;\nffs.retryRequests = () => {\n\tretryHttpRequests(ffs.queueManager, ffs);\n};\n\n// add the cache managers \nffs.cachemanagers = cachemanagers;\nffs.connectors = connectors;\n\nmodule.exports = ffs;\nmodule.exports.default = ffs;\n","\n'use strict';\n\nconst VERSION = \"0.0.1\";\n\nconst ERROR_CODES = {\n\tUNKNOWN_ERROR: \"UNKNOWN_ERROR\",\n\tREQUEST_FAILED: \"ERR_REQUEST_FAILED\",\n\tMAXCONTENTLENGTH_EXCEEDED: \"ERR_MAXCONTENTLENGTH_EXCEEDED\",\n\tREQUEST_ABORTED: \"ERR_REQUEST_ABORTED\",\n\tSTREAM_ERROR: \"ERR_STREAM_ERROR\",\n\tERR_PROCESSING_DATA: \"ERR_PROCESSING_DATA\",\n\tERR_PROCESSING_BODY_AS_JSON_DATA: \"ERR_PROCESSING_BODY_AS_JSON_DATA\",\n\tMAX_REDIRECT_ERROR: \"MAX_REDIRECT_ERROR\",\n\tCONNECTION_ABORTED: \"ECONNABORTED\",\n\tNETWORK_ERROR: \"NETWORK_ERROR\",\n\tTIMEOUT_ERROR: \"TIMEOUT_ERROR\"\n};\n\nconst GLOBAL_EVENT_NAMES = {\n\tRETRY_MAXED_OUT: \"FQM_RETRY_MAXED_OUT\",\n\tRETRY_SUCCESS: \"FQM_RETRY_SUCCESS\",\n\tRETRY_FAILED: \"FQM_RETRY_FAILED\",\n\tEVENT_QUEUED: \"FQM_EVENT_QUEUED\"\n}\n\nconst _globalEvents = {};\n\nJSON.safeStringify = (obj, indent = 2) => {\n\tlet cache = [];\n\tconst retVal = JSON.stringify(\n\t  obj,\n\t  (key, value) =>\n\t\ttypeof value === \"object\" && value !== null\n\t\t  ? cache.includes(value)\n\t\t\t? \"[Circular]\" // Duplicate reference found, discard key\n\t\t\t: cache.push(value) && value // Store value in our collection\n\t\t  : value,\n\t  indent\n\t);\n\tcache = null;\n\treturn retVal;\n};\n\nfunction isString(val) {\n\treturn typeof val === 'string';\n}\n\nfunction isArray(val) {\n\treturn Array.isArray(val);\n}\n\nfunction isFormData(val) {\n\treturn toString.call(val) === '[object FormData]';\n}\n\nfunction isObject(val) {\n\treturn val !== null && typeof val === 'object';\n}\n\nfunction isNumber(val) {\n\treturn typeof val === 'number';\n}\n\nfunction isPlainObject(val) {\n\tif (toString.call(val) !== '[object Object]') {\n\t\treturn false;\n\t}\n  \n\tlet prototype = Object.getPrototypeOf(val);\n\treturn prototype === null || prototype === Object.prototype;\n}\n\nfunction isFunction(val) {\n\treturn toString.call(val) === '[object Function]';\n}\n\nfunction isDate(val) {\n\treturn toString.call(val) === '[object Date]';\n}\n\nfunction isStream(val) {\n\treturn isObject(val) && isFunction(val.pipe);\n}\n\nfunction isArrayBuffer(val) {\n\treturn toString.call(val) === '[object ArrayBuffer]';\n}\n\nfunction isUndefined(val) {\n\treturn typeof val === 'undefined';\n}\n\nfunction stripBOM(content) {\n\tif (content.charCodeAt(0) === 0xFEFF) {\n\t\tcontent = content.slice(1);\n\t}\n\treturn content;\n}\n\nfunction forEach(obj, fn) {\n\tif (obj === null || typeof obj === 'undefined') {\n\t\treturn;\n\t}\n\tif (typeof obj !== 'object') {\n\t\tobj = [obj];\n\t}\n  \n\tif (isArray(obj)) {\n\t\tfor (var i = 0, l = obj.length; i < l; i++) {\n\t\t\tfn.call(null, obj[i], i, obj);\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t  fn.call(null, obj[key], key, obj);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction mergeObject(obj1, obj2) {\n\tobj1 = obj1 || {};\n\tobj2 = obj2 || {};\n\tif ((obj1 === null || typeof obj1 === 'undefined') && \n\t\t(obj2 === null || typeof obj2 === 'undefined')) {\n\t\treturn {};\n\t}\n\tlet merged = {};\n\tif (typeof obj1 !== 'object' && typeof obj2 === 'object') {\n\t\tmerged = obj2;\n\t\treturn merged;\n\t}\n\tif (typeof obj2 !== 'object') {\n\t\tmerged = obj1;\n\t\treturn merged;\n\t}\n\tfor (var key in obj1) { merged[key] = obj1[key]; }\n\tfor (var key in obj2) {\n\t\tif (merged[key] === undefined || merged[key] === null) {\n\t\t\tmerged[key] = obj2[key];\n\t\t}\n\t}\n\treturn merged;\n}\n\nfunction invokeForEachInterceptorType(interceptor, type, config, res) {\n\tconst responses = [];\n\tif (!interceptor) return responses;\n\tforEach(interceptor.filter(h => h && h.type === type), function iterateHandler(handler) {\n\t\tif (!handler || !handler.cb) return;\n\t\tif (typeof handler.when === 'function' && handler.when(config) === false) return;\n\t\tconst response = handler.cb(handler.options, config, res);\n\t\tif (response !== undefined) responses.push(response);\n\t});\n\treturn responses;\n}\n\nfunction isURLSearchParams(val) {\n\treturn toString.call(val) === '[object URLSearchParams]';\n}\n\nfunction encodeParamURI(val) {\n\treturn encodeURIComponent(val).\n\t\treplace(/%5B/gi, '[').\n\t\treplace(/%5D/gi, ']').\n\t\treplace(/%3A/gi, ':').\n\t\treplace(/%24/g, '$').\n\t\treplace(/%20/g, '+').\n\t\treplace(/%2C/gi, ',');\n}\n\nfunction buildURL(url, params, serializer) {\n\tif (!params) {\n\t\treturn url;\n\t}\n\n\tlet formatedParams;\n\tif (isURLSearchParams(params)) {\n\t\tformatedParams = params.toString();\n\t} else if (serializer) {\n\t\tformatedParams = serializer(params);\n\t} else {\n\t\tlet paramsParts = [];\n\t\tforEach(params, function serialize(value, key) {\n\t\t\tif (value === null || typeof value === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isArray(value)) {\n\t\t\t\tkey = key + '[]';\n\t\t\t} else {\n\t\t\t\tvalue = [value];\n\t\t\t}\n\t\t\n\t\t\tforEach(value, function parseValue(val) {\n\t\t\t\tif (isDate(val)) {\n\t\t\t\t\tval = val.toISOString();\n\t\t\t\t} else if (isObject(val)) {\n\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t}\n\t\t\t\tparamsParts.push(`${encodeParamURI(key)}=${encodeParamURI(val)}`);\n\t\t\t});\n\t\t\tformatedParams = paramsParts.join('&');\n\t\t});\n\n\t}\n\n\tif (formatedParams) {\n\t\tvar hashIndex = url.indexOf('#');\n\t\tif (hashIndex !== -1) {\n\t\t\turl = url.slice(0, hashIndex);\n\t\t}\n\n\t\turl += (url.indexOf('?') === -1 ? '?' : '&') + formatedParams;\n\t}\n\treturn url;\n}\n\nfunction envIsBrowser() {\n\treturn !(typeof window === 'undefined');\n}\n\nfunction envIsNodeJs() {\n\treturn (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]');\n}\n\nfunction envIsStandardBrowser() {\n\tif (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n\t\t\tnavigator.product === 'NativeScript' ||\n\t\t\tnavigator.product === 'NS')) {\n\t  return false;\n\t}\n\treturn (typeof window !== 'undefined' && typeof document !== 'undefined');\n}\n\nfunction kyofuucError(message, config, code, request, response) {\n\tlet error = isString(message) ? new Error(message) : message;\n\terror.config = config;\n\tif (code) {\n\t\terror.code = code;\n\t}\n\terror.request = request;\n\terror.response = response;\n\terror.isKyofuucError = true;\n\t\n\terror.toJSON = function toJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tmessage: this.message,\n\t\t\tdescription: this.description,\n\t\t\tnumber: this.number,\n\t\t\tfileName: this.fileName,\n\t\t\tlineNumber: this.lineNumber,\n\t\t\tcolumnNumber: this.columnNumber,\n\t\t\tstack: this.stack,\n\t\t\tconfig: this.config,\n\t\t\tcode: this.code,\n\t\t\tstatus: (this.response && this.response.status ? this.response.status : null),\n\t\t\tresponseBody: (this.response && this.response.body ? this.response.body : null)\n\t\t};\n\t};\n\treturn error;\n}\n\nfunction isAbsoluteURL(url) {\n\treturn /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\nfunction isRelativeURL(url) {\n\treturn !isAbsoluteURL(url);\n}\n\nfunction combineURLs(baseURL, relativeURL) {\n\treturn relativeURL\n\t\t? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n\t\t: baseURL;\n}\n\nfunction buildFullURLPath(baseURL, requestURL) {\n\tif (baseURL && !isAbsoluteURL(requestURL)) {\n\t\treturn combineURLs(baseURL, requestURL);\n\t}\n\treturn requestURL;\n}\n\nfunction mergeClassPrototypes(baseClazz, joinClazz) {\n\tforEach(joinClazz.constructor.prototype || [], function iterateDecl(methodDecl, methodName) {\n\t\tif (!(methodName in baseClazz.constructor.prototype)) {\n\t\t\tbaseClazz.constructor.prototype[methodName] = methodDecl;\n\t\t}\n\t});\n}\n\nfunction mergeClassAttribute(baseClazz, joinClazz) {\n\tforEach(joinClazz || {}, function iterateDecl(attribute, name) {\n\t\tlet oldValue = baseClazz[name];\n\t\tif (oldValue) {\n\t\t\tif (isObject(oldValue)) {\n\t\t\t\tbaseClazz[name] = mergeObject(oldValue, attribute);\n\t\t\t} else if (isArray(oldValue)) {\n\n\t\t\t}\n\t\t} else {\n\t\t\tbaseClazz[name] = attribute;\n\t\t}\n\t})\n}\n\nfunction mergeClasses(...classes) {\n\tconst baseClazz = classes[0];\n\tforEach(classes, function iterateClass(clazz, index) {\n\t\tif (index == 0) return;\n\t\tmergeClassAttribute(baseClazz, clazz);\n\t\tmergeClassPrototypes(baseClazz, clazz);\n\t});\n\treturn baseClazz;\n}\n\nfunction resolveResponse(response, resolve, reject) {\n\tlet validateStatus = response.config.validateStatus;\n\tif (!response.status || !validateStatus || validateStatus(response.status)) {\n\t\tresolve(response);\n\t} else {\n\t\treject(kyofuucError(\n\t\t\t'Request failed with status code ' + response.status,\n\t\t\tresponse.config,\n\t\t\tERROR_CODES.REQUEST_FAILED,\n\t\t\tresponse.request,\n\t\t\tresponse\n\t\t));\n\t}\n}\n\nfunction buildCacheKey(config) {\n\treturn config.key || config.url + (config.isResource \n\t\t? `_${(config.method || \"GET\").toUpperCase()}_RESOURCE` \n\t\t: `_${(config.method || \"GET\").toUpperCase()}_SINGLE`);\n}\n\nlet ignoreDuplicateOf = [\n\t'age', 'authorization', 'content-length', 'content-type', 'etag',\n\t'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n\t'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n\t'referer', 'retry-after', 'user-agent'\n];\n\nfunction trim(str) {\n\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction parseHeaders(headers) {\n\tvar parsed = {};\n\tvar key;\n\tvar val;\n\tvar i;\n  \n\tif (!headers) { return parsed; }\n  \n\tforEach(headers.split('\\n'), function parser(line) {\n\t  i = line.indexOf(':');\n\t  key = trim(line.substr(0, i)).toLowerCase();\n\t  val = trim(line.substr(i + 1));\n  \n\t  if (key) {\n\t\tif (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n\t\t  return;\n\t\t}\n\t\tif (key === 'set-cookie') {\n\t\t  parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n\t\t} else {\n\t\t  parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t\t}\n\t  }\n\t});\n  \n\treturn parsed;\n};\n\nfunction toBase64(value) {\n\tif (envIsBrowser()) {\n\t\treturn btoa(value);\n\t}\n\treturn Buffer.from(value).toString('base64');\n}\n\nfunction fromBase64(value) {\n\tif (envIsBrowser()) {\n\t\treturn atob(value);\n\t}\n\treturn Buffer.from(value, 'base64').toString();\n}\n\nfunction isURLSameOrigin(url) {\n\treturn false;\n}\n\nfunction presentElseImport(item, actual, fallback) {\n\tif (item !== \"undefined\") return actual.call();\n\telse return fallback.call();\n}\n\nfunction cloneInstance(instance) {\n\treturn Object.assign(Object.create(Object.getPrototypeOf(instance)), instance);\n}\n\n// global event listeners\n\nfunction registerGlobalEvent(key, event) {\n\tif (!_globalEvents[key]) _globalEvents[key] = [];\n\t_globalEvents[key].push(event);\n\treturn _globalEvents.length - 1;\n}\n\nfunction unRegisterGlobalEvent(key, index) {\n\tif (!_globalEvents[key] || !_globalEvents[key].length) return;\n\t_globalEvents[key].splice(index, 1);\n}\n\nfunction getGlobalEvent(key) {\n\treturn _globalEvents[key] || [];\n}\n\nconst registerQueuedEvent = (event) => registerGlobalEvent(GLOBAL_EVENT_NAMES.EVENT_QUEUED, event);\nconst registerRetryFailureEvent = (event) => registerGlobalEvent(GLOBAL_EVENT_NAMES.RETRY_FAILED, event);\nconst registerRetrySuccessEvent = (event) => registerGlobalEvent(GLOBAL_EVENT_NAMES.RETRY_SUCCESS, event);\nconst registerRetryMaxedOutEvent = (event) => registerGlobalEvent(GLOBAL_EVENT_NAMES.RETRY_MAXED_OUT, event);\n\nmodule.exports = {\n\ttrim,\n\tisDate,\n\tVERSION,\n\tforEach,\n\tisArray,\n\ttoBase64,\n\tstripBOM,\n\tbuildURL,\n\tisNumber,\n\tisStream,\n\tisString,\n\tisObject,\n\tfromBase64,\n\tisFormData,\n\tisFunction,\n\tenvIsNodeJs,\n\tmergeObject,\n\tcombineURLs,\n\tERROR_CODES,\n\tisUndefined,\n\tmergeClasses,\n\tenvIsBrowser,\n\tparseHeaders,\n\tkyofuucError,\n\tisPlainObject,\n\tisAbsoluteURL,\n\tisRelativeURL,\n\tisArrayBuffer,\n\tbuildCacheKey,\n\tcloneInstance,\n\tencodeParamURI,\n\tgetGlobalEvent,\n\tisURLSameOrigin,\n\tresolveResponse,\n\tbuildFullURLPath,\n\tisURLSearchParams,\n\tpresentElseImport,\n\tGLOBAL_EVENT_NAMES,\n\tregisterQueuedEvent,\n\tregisterGlobalEvent,\n\tmergeClassAttribute,\n\tmergeClassPrototypes,\n\tenvIsStandardBrowser,\n\tunRegisterGlobalEvent,\n\tregisterRetrySuccessEvent,\n\tregisterRetryFailureEvent,\n\tregisterRetryMaxedOutEvent,\n\tinvokeForEachInterceptorType\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(10);\n"],"names":["root","factory","exports","module","define","amd","this","utils","ffCMInvalidateCookie","cookiesImpl","name","removeItem","document","cookie","CookieFFSCacheManager","options","interceptorIds","interceptor","undefined","isObject","encryptor","decryptor","bucket","expiryInMilliSeconds","prototype","registerInterceptors","instance","preInterceptorId","registerPreRequest","config","cache","cachedValue","get","call","refreshCache","key","FROM_FFS_CACHE_MANAGER_INTERCEPTOR","value","push","postInterceptorId","registerPostResponse","response","set","unRegisterInterceptors","interceptorId","unRegister","buildCacheKey","nameWithEQ","getItem","ca","split","index","length","c","charAt","substring","indexOf","ffCMGetCookie","JSON","parse","safeStringify","encryptedValue","cacheOptions","Secure","expires","date","Date","setTime","getTime","toUTCString","setItem","extraCookieOptions","ffCMSetCookie","remove","LocalStorageFFSCacheManager","localStorageImpl","localStorage","MapFFSCacheManager","forwardOptions","sessionStorage","KeyvRedisFFSCacheManager","SessionStorageFFSCacheManager","KFXMLHttpRequest","httpInterceptor","Promise","resolvePromise","rejectPromise","reqData","data","reqHeaders","headers","headerNames","Object","keys","reduce","acc","header","toLowerCase","responseType","isFormData","isPlainObject","isArray","preRequestResults","invokeForEachInterceptorType","filter","preRequestResult","isFromCache","req","auth","username","password","unescape","encodeURIComponent","Authorization","toBase64","fullPath","buildFullURLPath","baseURL","url","onloadend","responseHeaders","parseHeaders","getAllResponseHeaders","responseData","responseText","status","statusText","request","body","err","kyofuucError","ERROR_CODES","ERR_PROCESSING_BODY_AS_JSON_DATA","resolveResponse","open","method","toUpperCase","buildURL","params","paramsSerializer","onreadystatechange","readyState","responseURL","setTimeout","onerror","retry","putInRetryQueue","NETWORK_ERROR","onabort","REQUEST_ABORTED","ontimeout","timeoutErrorMessage","timeout","TIMEOUT_ERROR","forEach","val","setRequestHeader","envIsStandardBrowser","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","cookies","read","xsrfHeaderName","isUndefined","onDownloadProgress","addEventListener","onUploadProgress","upload","send","stringify","wsConnector","xhrConnector","httpConnector","KFWebSocket","wsInterceptor","absoluteUrl","socket","protocol","e","implname","FuInterceptor","handlers","register","type","cb","id","cond","thisArg","handler","level","event","defaultRetryCache","presentElseImport","FuQueueManager","_cache","_interceptor","_entriesCount","rebuildRetryObject","ffs","_cacheName","rebuildRetryObjectCache","cachemanagers","object","getGlobalEvent","GLOBAL_EVENT_NAMES","EVENT_QUEUED","pop","entryKey","entry","TYPE","HTTP_REQUEST","KyofuucHttp","then","RETRY_SUCCESS","catch","error","RETRY_FAILED","defaults","httpBaseConfig","fuQueueManager","_retryCount","isNumber","maxRetry","maxReconnectOrRetry","RETRY_MAXED_OUT","constructor","urlOrConfig","promise","tempCache","mergeObject","connector","getDefaultHttpConnector","getUrl","Error","replace","KyofuucWS","wsConfig","state","_reconnectionCount","_nextReconnectionDelay","lastReconnectionCount","eventHooks","reconnect","close","getDefaultWSConnector","onStateChange","connection","ws","mergeClasses","registerOnWSError","onError","registerOnWSClose","maxReconnect","reconnectIntervalByPower","Math","pow","reconnectInterval","bind","target","onClose","registerOnWSOpen","extensions","onOpen","registerOnWSMessage","sanitizedData","implName","connectionImplName","onMessage","sendMessage","message","getBufferedAmount","bufferedAmount","getBinaryType","binaryType","setBinaryType","eventHook","STATE","CONNECTING","CONNECTED","READY","DISCONNECTING","DISCONNECTED","RECONNECTING","PROCESSIMG_OUTGOING_MESSAGE","PROCESSIMG_INCOMMING_MESSAGE","WebSocket","http","https","XMLHttpRequest","classes","process","toString","getHttpAgent","envIsNodeJs","httpAgent","Agent","keepAlive","httpsAgent","httpConfig","maxContentLength","maxBodyLength","maxRedirects","validateStatus","onRetryCompleted","connectors","init","queueManager","kfHTTP","kfWS","p1","p2","retryHttpRequests","retryRequests","UNKNOWN_ERROR","REQUEST_FAILED","MAXCONTENTLENGTH_EXCEEDED","STREAM_ERROR","ERR_PROCESSING_DATA","MAX_REDIRECT_ERROR","CONNECTION_ABORTED","_globalEvents","isString","Array","isFunction","isDate","obj","fn","i","l","hasOwnProperty","obj1","obj2","merged","isURLSearchParams","encodeParamURI","envIsBrowser","window","code","isKyofuucError","toJSON","description","number","fileName","lineNumber","columnNumber","stack","responseBody","isAbsoluteURL","test","combineURLs","relativeURL","mergeClassPrototypes","baseClazz","joinClazz","methodDecl","methodName","mergeClassAttribute","attribute","oldValue","indent","retVal","includes","ignoreDuplicateOf","trim","str","registerGlobalEvent","VERSION","btoa","Buffer","from","stripBOM","content","charCodeAt","slice","serializer","formatedParams","paramsParts","toISOString","join","hashIndex","isStream","pipe","fromBase64","atob","clazz","parsed","line","substr","concat","getPrototypeOf","isRelativeURL","isArrayBuffer","isResource","cloneInstance","assign","create","resolve","reject","requestURL","item","actual","fallback","registerQueuedEvent","navigator","product","unRegisterGlobalEvent","splice","registerRetrySuccessEvent","registerRetryFailureEvent","registerRetryMaxedOutEvent","res","responses","h","when","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}